!function(){var t,e,n,i=function(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}},o=i(function(t,e){"use strict";t.exports={phoneify:$i,section:Qi,navigation:Ki,navbutton:Xi,statusbar:to,button:hn,chart:Hi,form:{input:ln,choose:Vi,question:Wi},setup:so,Map:Bi,Fishpicker:r({}),startup:ho,size:Ri}}),r=i(function(t,e){"use strict";var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=hn,r=o({});r.section,r.form,t.exports=function(t){function e(t,n,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return r.state=n,r.emit=i,r.opts=Object.assign({},o),r.next=o.next,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,_i),n(e,[{key:"createElement",value:function(){this._createControls();var t=this,e=function(){var t=document.createElement("div");return t.setAttribute("style","position: relative; min-height: calc(100vh - 48px); width: 100vw;"),t.setAttribute("class",""),sn(t,["\n      ",arguments[0],"\n    "]),t}(this.controls.render());return function n(){if(!t.state.data||!t.state.data.spp)return setTimeout(n,200);var i,o,r=function(){var t=document.createElement("div");t.setAttribute("style","align-content: space-between;"),t.setAttribute("class","flex flex-column h-100 "+arguments[0]);var e=document.createElement("input");return e.setAttribute("name","fish_search"),e.setAttribute("placeholder","enter a fish name"),sn(t,["\n        ",e,"\n      "]),t}("");t.fishes={},new Hn(r,[{name:"",items:Object.keys(t.state.data.spp).map(function(e){var n=t.state.data.spp[e],i={name:n.name.en,value:Object.assign({id:e},n),keywords:Object.values(n.name).join(" ").split(" ")};return t.fishes[i.name]=i.value,i})}],{inputName:"fish_search",inputValueKey:"name"}).on("select",function(e){t.selected=t.fishes[e.item.name],t._showControls()}),i=sn,(o=document.createElement("button")).setAttribute("class","ba br1 pa2 w-100 dark-gray bg-white hover-bg-light-gray hover-white"),i(o,["Select"]),e.appendChild(r)}(),e}},{key:"update",value:function(){return!1}},{key:"_createControls",value:function(){this.controls=this.state.cache(mi,"fishpicker-controls-popover"),this.element&&!this.controls.element&&(this.controls.hide(),this.element.appendChild(this.controls.render()))}},{key:"_showControls",value:function(){if(this.selected){this._createControls();var t=this,e=i(t.state,t.emit,{label:"yes",classes:"w-40",onclick:function(){t.next({sp:t.selected}),t._dismissControls()}}),n=i(t.state,t.emit,{label:"no",classes:"w-40",onclick:function(){return t._dismissControls()}}),o=function(){var t=document.createElement("div");t.setAttribute("style","justify-content: center;"),t.setAttribute("class","flex flex-column f3");var e=document.createElement("div"),n=document.createElement("p");n.setAttribute("class","pv1"),sn(n,["Did you catch a ",arguments[0],"?"]),sn(e,[n]);var i=document.createElement("div");return i.setAttribute("style","justify-content: space-evenly;"),i.setAttribute("class","flex flex-row"),sn(i,[arguments[1],arguments[2]]),sn(t,["\n      ",e,"\n      ",i,"\n    "]),t}(this.selected.name.en,e,n);this.controls.show({content:o})}}},{key:"_dismissControls",value:function(){this.controls.hide()}}]),e}()}),s=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)a.call(n,i)&&(t[i]=n[i])}return t},a=Object.prototype.hasOwnProperty,h=t={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===l||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:l}catch(t){e=l}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();var f,d=[],p=!1,m=-1;function _(){p&&f&&(p=!1,f.length?d=f.concat(d):m=-1,d.length&&v())}function v(){if(!p){var t=c(_);p=!0;for(var e=d.length;e;){for(f=d,d=[];++m<e;)f&&f[m].run();m=-1,e=d.length}f=null,p=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function y(){}h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new g(t,e)),1!==d.length||p||c(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=y,h.addListener=y,h.once=y,h.off=y,h.removeListener=y,h.removeAllListeners=y,h.emit=y,h.prependListener=y,h.prependOnceListener=y,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0};var b={};(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}b.normalize=function(t){var o=b.isAbsolute(t),r="/"===i(t,-1);return(t=e(n(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&r&&(t+="/"),(o?"/":"")+t},b.isAbsolute=function(t){return"/"===t.charAt(0)},b.join=function(){var t=Array.prototype.slice.call(arguments,0);return b.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t);var w={exports:{}};function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){var i="object"==(void 0===w.exports?"undefined":e(w.exports))&&w.exports&&!w.exports.nodeType&&w.exports,o="object"==e(w)&&w&&!w.nodeType&&w,r="object"==(void 0===t?"undefined":e(t))&&t;r.global!==r&&r.window!==r&&r.self!==r||(n=r);var s,a,h=2147483647,l=36,u=1,c=26,f=38,d=700,p=72,m=128,_="-",v=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,L=Math.floor,E=String.fromCharCode;function C(t){throw new RangeError(b[t])}function A(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function S(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+A((t=t.replace(y,".")).split("."),e).join(".")}function P(t){for(var e,n,i=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function k(t){return A(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+E(t)}).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,n){var i=0;for(t=n?L(t/d):t>>1,t+=L(t/e);t>x*c>>1;i+=l)t=L(t/x);return L(i+(x+1)*t/(t+f))}function O(t){var e,n,i,o,r,s,a,f,d,v,g,y=[],b=t.length,w=0,x=m,E=p;for((n=t.lastIndexOf(_))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&C("not-basic"),y.push(t.charCodeAt(i));for(o=n>0?n+1:0;o<b;){for(r=w,s=1,a=l;o>=b&&C("invalid-input"),((f=(g=t.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||f>L((h-w)/s))&&C("overflow"),w+=f*s,!(f<(d=a<=E?u:a>=E+c?c:a-E));a+=l)s>L(h/(v=l-d))&&C("overflow"),s*=v;E=M(w-r,e=y.length+1,0==r),L(w/e)>h-x&&C("overflow"),x+=L(w/e),w%=e,y.splice(w++,0,x)}return k(y)}function z(t){var e,n,i,o,r,s,a,f,d,v,g,y,b,w,x,A=[];for(y=(t=P(t)).length,e=m,n=0,r=p,s=0;s<y;++s)(g=t[s])<128&&A.push(E(g));for(i=o=A.length,o&&A.push(_);i<y;){for(a=h,s=0;s<y;++s)(g=t[s])>=e&&g<a&&(a=g);for(a-e>L((h-n)/(b=i+1))&&C("overflow"),n+=(a-e)*b,e=a,s=0;s<y;++s)if((g=t[s])<e&&++n>h&&C("overflow"),g==e){for(f=n,d=l;!(f<(v=d<=r?u:d>=r+c?c:d-r));d+=l)x=f-v,w=l-v,A.push(E(T(v+x%w,0))),f=L(x/w);A.push(E(T(f,0))),r=M(n,b,i==o),n=0,++i}++n,++e}return A.join("")}if(s={version:"1.4.1",ucs2:{decode:P,encode:k},decode:O,encode:z,toASCII:function(t){return S(t,function(t){return g.test(t)?"xn--"+z(t):t})},toUnicode:function(t){return S(t,function(t){return v.test(t)?O(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==e(define.amd)&&define.amd)define("punycode",function(){return s});else if(i&&o)if(w.exports==i)o.exports=s;else for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);else n.punycode=s}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),w=w.exports;var E=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t){switch(void 0===t?"undefined":C(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},S=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function P(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var k=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},T={parse:function(t,e,n,i){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var r=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var h=0;h<a;++h){var l,u,c,f,d=t[h].replace(r,"%20"),p=d.indexOf(n);p>=0?(l=d.substr(0,p),u=d.substr(p+1)):(l=d,u=""),c=decodeURIComponent(l),f=decodeURIComponent(u),x(o,c)?E(o[c])?o[c].push(f):o[c]=[o[c],f]:o[c]=f}return o},stringify:function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":C(t))?P(k(t),function(i){var o=encodeURIComponent(A(i))+n;return S(t[i])?P(t[i],function(t){return o+encodeURIComponent(A(t))}).join(e):o+encodeURIComponent(A(t[i]))}).join(e):i?encodeURIComponent(A(i))+n+encodeURIComponent(A(t)):""}},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":M(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}},z={},I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function B(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}z.format=function(t){return O.isString(t)&&(t=Y(t)),t instanceof B?t.format():B.prototype.format.call(t)};var N=/^([a-z0-9.+-]+:)/i,R=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Z=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),D=["'"].concat(Z),U=["%","/","?",";","#"].concat(D),F=["/","?","#"],H=/^[+a-z0-9A-Z_-]{0,63}$/,G=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,V={javascript:!0,"javascript:":!0},q={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Y(t,e,n){if(t&&O.isObject(t)&&t instanceof B)return t;var i=new B;return i.parse(t,e,n),i}B.prototype.parse=function(t,e,n){if(!O.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":I(t)));var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",r=t.split(o);r[0]=r[0].replace(/\\/g,"/");var s=t=r.join(o);if(s=s.trim(),!n&&1===t.split("#").length){var a=j.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?T.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=N.exec(s);if(h){var l=(h=h[0]).toLowerCase();this.protocol=l,s=s.substr(h.length)}if(n||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===s.substr(0,2);!u||h&&q[h]||(s=s.substr(2),this.slashes=!0)}if(!q[h]&&(u||h&&!W[h])){for(var c,f,d=-1,p=0;p<F.length;p++)-1!==(m=s.indexOf(F[p]))&&(-1===d||m<d)&&(d=m);for(-1!==(f=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(c=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(c)),d=-1,p=0;p<U.length;p++){var m;-1!==(m=s.indexOf(U[p]))&&(-1===d||m<d)&&(d=m)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var v=this.hostname.split(/\./),g=(p=0,v.length);p<g;p++){var y=v[p];if(y&&!y.match(H)){for(var b="",x=0,L=y.length;x<L;x++)y.charCodeAt(x)>127?b+="x":b+=y[x];if(!b.match(H)){var E=v.slice(0,p),C=v.slice(p+1),A=y.match(G);A&&(E.push(A[1]),C.unshift(A[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=w.toASCII(this.hostname));var S=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+S,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!V[l])for(p=0,g=D.length;p<g;p++){var k=D[p];if(-1!==s.indexOf(k)){var M=encodeURIComponent(k);M===k&&(M=escape(k)),s=s.split(k).join(M)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var B=s.indexOf("?");if(-1!==B?(this.search=s.substr(B),this.query=s.substr(B+1),e&&(this.query=T.parse(this.query)),s=s.slice(0,B)):e&&(this.search="",this.query={}),s&&(this.pathname=s),W[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){S=this.pathname||"";var R=this.search||"";this.path=S+R}return this.href=this.format(),this},B.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&O.isObject(this.query)&&Object.keys(this.query).length&&(r=T.stringify(this.query));var s=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||W[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+i},B.prototype.resolve=function(t){return this.resolveObject(Y(t,!1,!0)).format()},B.prototype.resolveObject=function(t){if(O.isString(t)){var e=new B;e.parse(t,!1,!0),t=e}for(var n=new B,i=Object.keys(this),o=0;o<i.length;o++){var r=i[o];n[r]=this[r]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var h=s[a];"protocol"!==h&&(n[h]=t[h])}return W[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!W[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];n[c]=t[c]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||q[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=_||m||n.host&&t.pathname,g=v,y=n.pathname&&n.pathname.split("/")||[],b=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!W[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),v=v&&(""===f[0]||""===y[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=f;else if(f.length)y||(y=[]),y.pop(),y=y.concat(f),n.search=t.search,n.query=t.query;else if(!O.isNullOrUndefined(t.search))return b&&(n.hostname=n.host=y.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),n.search=t.search,n.query=t.query,O.isNull(n.pathname)&&O.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=y.slice(-1)[0],x=(n.host||t.host||y.length>1)&&("."===w||".."===w)||""===w,L=0,E=y.length;E>=0;E--)"."===(w=y[E])?y.splice(E,1):".."===w?(y.splice(E,1),L++):L&&(y.splice(E,1),L--);if(!v&&!g)for(;L--;L)y.unshift("..");!v||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),x&&"/"!==y.join("/").substr(-1)&&y.push("");var C,A=""===y[0]||y[0]&&"/"===y[0].charAt(0);return b&&(n.hostname=n.host=A?"":y.length?y.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),(v=v||n.host&&y.length)&&!A&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),O.isNull(n.pathname)&&O.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},B.prototype.parseHost=function(){var t=this.host,e=R.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var X={};(function(t){"function"==typeof Symbol&&Symbol.iterator,X=n;var e=n.events={INSTALLED:"sw:installed",UPDATED:"sw:updated",REDUNDANT:"sw:redundant",POST_MESSAGE:"sw:postMessage",MESSAGE:"sw:message",SYNC:"sw:sync",NOTIFICATION_REQUEST:"sw:notificationRequest",ERROR:"log:error"};function n(n,i){return n=n||"/sw.js",i=i||{},function(o,r){r.on(o.events.DOMCONTENTLOADED,function(){if((i=s({scope:"/"},i)).electron&&(i.scope=b.join(t,i.scope),n=z.format({pathname:b.join(t,n.replace(/^\//,"")),protocol:"file:",slashes:!0}),delete i.electron),window.onmessage=function(t){r.emit(e.MESSAGE,{data:t.data,channel:"window",port:null})},window.MessageChannel){var a=new MessageChannel;a.port1.onmessage=function(t){r.emit(e.MESSAGE,{data:t.data,channel:"messageChannel",port:"port1"})},a.port2.onmessage=function(t){r.emit(e.MESSAGE,{data:t.data,channel:"messageChannel",port:"port2"})}}r.on(e.NOTIFICATION_REQUEST,function(t){Notification.requestPermission(function(e){"function"==typeof e&&t(e)})}),navigator.serviceWorker&&navigator.onLine&&(navigator.serviceWorker.onmessage=function(t){r.emit(e.MESSAGE,{data:t.data,channel:"navigator.serviceWorker",port:null})},navigator.serviceWorker.register(n,i).then(function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state?navigator.serviceWorker.controller?r.emit(e.UPDATED,t):r.emit(e.INSTALLED,t):"redundant"===n.state&&r.emit(e.REDUNDANT,t)}},t.sync&&function(t){t.sync.getTags().then(function(t){o.syncTags=t}).catch(function(t){r.emit(e.ERROR,t)})}(t)}).catch(function(t){r.emit(e.ERROR,t)}),navigator.serviceWorker.ready.then(function(t){new Promise(function(n){var i=t.active;"activated"!==i.state?(i.addEventListener("statechange",n,{once:!0}),r.on(e.POST_MESSAGE,function(t){i.postMessage(t)})):n()}).then(function(){t.navigationPreload&&t.navigationPreload.enable()}),r.on(e.SYNC,function(n){t.sync.register(n).then(function(){return t.sync.getTags()}).then(function(t){o.syncTags=t}).catch(function(t){r.emit(e.ERROR,t)})})}).catch(function(t){r.emit(e.ERROR,t)}))})}}}).call(this,"/node_modules/choo-service-worker");var K={};function $(t){if(!(this instanceof $))return new $(t);"number"==typeof t&&(t={max:t}),t||(t={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=t.max||1e3,this.maxAge=t.maxAge||0}K=$,Object.defineProperty($.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),$.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},$.prototype.remove=function(t){if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){var e=this.cache[t];return delete this.cache[t],this._unlink(t,e.prev,e.next),e.value}},$.prototype._unlink=function(t,e,n){this.length--,0===this.length?this.head=this.tail=null:this.head===t?(this.head=e,this.cache[this.head].next=null):this.tail===t?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[e].next=n,this.cache[n].prev=e)},$.prototype.peek=function(t){if(this.cache.hasOwnProperty(t)){var e=this.cache[t];if(this._checkAge(t,e))return e.value}},$.prototype.set=function(t,e){var n;if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){if((n=this.cache[t]).value=e,this.maxAge&&(n.modified=Date.now()),t===this.head)return e;this._unlink(t,n.prev,n.next)}else n={value:e,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[t]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=t),this.head=t,this.tail||(this.tail=t),e},$.prototype._checkAge=function(t,e){return!(this.maxAge&&Date.now()-e.modified>this.maxAge&&(this.remove(t),1))},$.prototype.get=function(t){if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){var e=this.cache[t];if(this._checkAge(t,e))return this.head!==t&&(t===this.tail?(this.tail=e.next,this.cache[this.tail].prev=null):this.cache[e.prev].next=e.next,this.cache[e.next].prev=e.prev,this.cache[this.head].next=t,e.prev=this.head,e.next=null,this.head=t),e.value}},$.prototype.evict=function(){this.tail&&this.remove(this.tail)};var J={};function Q(t,e,n){this.cache="number"==typeof n?new K(n):n||new K(100),this.state=t,this.emit=e}function tt(t){return new(t.bind.apply(t,arguments))}"function"==typeof Symbol&&Symbol.iterator,J=Q,Q.prototype.render=function(t,e){var n=this.cache.get(e);if(!n){for(var i=[],o=2,r=arguments.length;o<r;o++)i.push(arguments[o]);i.unshift(t,e,this.state,this.emit),n=tt.apply(tt,i),this.cache.set(e,n)}return n};var et,nt=function(t){if("undefined"==typeof document)throw new Error("document-ready only runs in the browser");var e=document.readyState;if("complete"===e||"interactive"===e)return setTimeout(t,0);document.addEventListener("DOMContentLoaded",function(){t()})};"function"==typeof Symbol&&Symbol.iterator;var it="undefined"!=typeof window;function ot(t){this.hasWindow=t,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}ot.prototype.push=function(t){this.queue.push(t),this.schedule()},ot.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var t=this;this.method(function(e){for(;t.queue.length&&e.timeRemaining()>0;)t.queue.shift()(e);t.scheduled=!1,t.queue.length&&t.schedule()})}},ot.prototype.setTimeout=function(t){setTimeout(t,0,{timeRemaining:function(){return 1}})},et=function(){var t;return it?(window._nanoScheduler||(window._nanoScheduler=new ot(!0)),t=window._nanoScheduler):t=new ot,t},"function"==typeof Symbol&&Symbol.iterator;var rt,st=et();at.disabled=!0;try{rt=window.performance,at.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!rt.mark}catch(Do){}function at(t){if(at.disabled)return ht;var e=(1e4*rt.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+e+"-"+t;function i(i){var o="end-"+e+"-"+t;rt.mark(o),st.push(function(){var r=null;try{var s=t+" ["+e+"]";rt.measure(s,n,o),rt.clearMarks(n),rt.clearMarks(o)}catch(Do){r=Do}i&&i(r,t)})}return rt.mark(n),i.uuid=e,i}function ht(t){t&&st.push(function(){t(new Error("nanotiming: performance API unavailable"))})}var lt=at,ut=function(t,e,n){var i,o=t.length;if(!(e>=o||0===n)){var r=o-(n=e+n>o?o-e:n);for(i=e;i<r;++i)t[i]=t[i+n];t.length=r}},ct={};function ft(t){if(!(this instanceof ft))return new ft(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}"function"==typeof Symbol&&Symbol.iterator,ct=ft,ft.prototype.emit=function(t){for(var e=[],n=1,i=arguments.length;n<i;n++)e.push(arguments[n]);var o=lt(this._name+"('"+t+"')"),r=this._listeners[t];return r&&r.length>0&&this._emit(this._listeners[t],e),this._starListeners.length>0&&this._emit(this._starListeners,t,e,o.uuid),o(),this},ft.prototype.on=ft.prototype.addListener=function(t,e){return"*"===t?this._starListeners.push(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)),this},ft.prototype.prependListener=function(t,e){return"*"===t?this._starListeners.unshift(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(e)),this},ft.prototype.once=function(t,e){var n=this;return this.on(t,function i(){e.apply(n,arguments),n.removeListener(t,i)}),this},ft.prototype.prependOnceListener=function(t,e){var n=this;return this.prependListener(t,function i(){e.apply(n,arguments),n.removeListener(t,i)}),this},ft.prototype.removeListener=function(t,e){return"*"===t?(this._starListeners=this._starListeners.slice(),n(this._starListeners,e)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),n(this._listeners[t],e));function n(t,e){if(t){var n=t.indexOf(e);return-1!==n?(ut(t,n,1),!0):void 0}}},ft.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},ft.prototype.listeners=function(t){var e="*"!==t?this._listeners[t]:this._starListeners,n=[];if(e)for(var i=e.length,o=0;o<i;o++)n.push(e[o]);return n},ft.prototype._emit=function(t,e,n,i){if(void 0!==t&&0!==t.length){void 0===n&&(n=e,e=null),e&&(n=void 0!==i?[e].concat(n,i):[e].concat(n));for(var o=t.length,r=0;r<o;r++){var s=t[r];s.apply(s,n)}}},"function"==typeof Symbol&&Symbol.iterator;var dt=/(noopener|noreferrer) (noopener|noreferrer)/,pt=/^[\w-_]+:/,mt=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],_t=mt.length;function vt(t,e,n){t[n]!==e[n]&&(e[n]=t[n],t[n]?e.setAttribute(n,""):e.removeAttribute(n))}var gt=function(t,e){var n=t.nodeType,i=t.nodeName;1===n&&function(t,e){for(var n=e.attributes,i=t.attributes,o=null,r=null,s=null,a=null,h=i.length-1;h>=0;--h)s=(a=i[h]).name,o=a.namespaceURI,r=a.value,o?(s=a.localName||s,e.getAttributeNS(o,s)!==r&&e.setAttributeNS(o,s,r)):e.hasAttribute(s)?e.getAttribute(s)!==r&&("null"===r||"undefined"===r?e.removeAttribute(s):e.setAttribute(s,r)):e.setAttribute(s,r);for(var l=n.length-1;l>=0;--l)!1!==(a=n[l]).specified&&(s=a.name,(o=a.namespaceURI)?(s=a.localName||s,t.hasAttributeNS(o,s)||e.removeAttributeNS(o,s)):t.hasAttributeNS(null,s)||e.removeAttribute(s))}(t,e),3!==n&&8!==n||e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),"INPUT"===i?function(t,e){var n=t.value,i=e.value;vt(t,e,"checked"),vt(t,e,"disabled"),n!==i&&(e.setAttribute("value",n),e.value=n),"null"===n&&(e.value="",e.removeAttribute("value")),t.hasAttributeNS(null,"value")?"range"===e.type&&(e.value=n):e.removeAttribute("value")}(t,e):"OPTION"===i?function(t,e){vt(t,e,"selected")}(t,e):"TEXTAREA"===i&&function(t,e){var n=t.value;if(n!==e.value&&(e.value=n),e.firstChild&&e.firstChild.nodeValue!==n){if(""===n&&e.firstChild.nodeValue===e.placeholder)return;e.firstChild.nodeValue=n}}(t,e),function(t,e){for(var n=0;n<_t;n++){var i=mt[n];t[i]?e[i]=t[i]:e[i]&&(e[i]=void 0)}}(t,e)};"function"==typeof Symbol&&Symbol.iterator;var yt=3;function bt(t,e){return t.id?t.id===e.id:t.isSameNode?t.isSameNode(e):t.tagName===e.tagName&&t.type===yt&&t.nodeValue===e.nodeValue}var wt=function(t,e){return function t(e,n){return n?e?e.isSameNode&&e.isSameNode(n)?n:e.tagName!==n.tagName?e:(gt(e,n),function(e,n){for(var i,o,r,s,a=0,h=0;i=n.childNodes[h],o=e.childNodes[h-a],i||o;h++)if(o)if(i)if(bt(o,i))(r=t(o,i))!==i&&(n.replaceChild(r,i),a++);else{s=null;for(var l=h;l<n.childNodes.length;l++)if(bt(n.childNodes[l],o)){s=n.childNodes[l];break}s?((r=t(o,s))!==s&&a++,n.insertBefore(r,i)):o.id||i.id?(n.insertBefore(o,i),a++):(r=t(o,i))!==i&&(n.replaceChild(r,i),a++)}else n.appendChild(o),a++;else n.removeChild(i),h--}(e,n),n):null:e}(e,t)};"function"==typeof Symbol&&Symbol.iterator;var xt=/([^?=&]+)(=([^&]*))?/g;"function"==typeof Symbol&&Symbol.iterator;var Lt=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)Et.call(n,i)&&(t[i]=n[i])}return t},Et=Object.prototype.hasOwnProperty,Ct={};function At(){if(!(this instanceof At))return new At;this.trie={nodes:{}}}"function"==typeof Symbol&&Symbol.iterator,Ct=At,At.prototype.create=function(t){var e=t.replace(/^\//,"").split("/");return function t(n,i){var o=e.hasOwnProperty(n)&&e[n];if(!1===o)return i;var r=null;return/^:|^\*/.test(o)?(i.nodes.hasOwnProperty("$$")?r=i.nodes.$$:(r={nodes:{}},i.nodes.$$=r),"*"===o[0]&&(i.wildcard=!0),i.name=o.replace(/^:|^\*/,"")):i.nodes.hasOwnProperty(o)?r=i.nodes[o]:(r={nodes:{}},i.nodes[o]=r),t(n+1,r)}(0,this.trie)},At.prototype.match=function(t){var e=t.replace(/^\//,"").split("/"),n={},i=function t(i,o){if(void 0!==o){var r=e[i];if(void 0===r)return o;if(o.nodes.hasOwnProperty(r))return t(i+1,o.nodes[r]);if(o.name){try{n[o.name]=decodeURIComponent(r)}catch(Do){return t(i,void 0)}return t(i+1,o.nodes.$$)}if(o.wildcard){try{n.wildcard=decodeURIComponent(e.slice(i).join("/"))}catch(Do){return t(i,void 0)}return o.nodes.$$}return t(i+1)}}(0,this.trie);if(i)return(i=Lt(i)).params=n,i},At.prototype.mount=function(t,e){var n=t.replace(/^\//,"").split("/"),i=null,o=null;if(1===n.length)o=n[0],i=this.create(o);else{var r=n.join("/");o=n[0],i=this.create(r)}s(i.nodes,e.nodes),e.name&&(i.name=e.name),i.nodes[""]&&(Object.keys(i.nodes[""]).forEach(function(t){"nodes"!==t&&(i[t]=i.nodes[""][t])}),s(i.nodes,i.nodes[""].nodes),delete i.nodes[""].nodes)},"function"==typeof Symbol&&Symbol.iterator;var St=function t(e){if(!(this instanceof t))return new t(e);var n=(e||"").replace(/^\//,""),i=Ct();return o._trie=i,o.on=function(t,e){var n=e._wayfarer&&e._trie?e:function(){return e.apply(this,Array.prototype.slice.call(arguments))};(t=t||"/",n.route=t,n._wayfarer&&n._trie)?i.mount(t,n._trie.trie):i.create(t).cb=n;return o},o.emit=o,o.match=r,o._wayfarer=!0,o;function o(t){var e=r(t),n=new Array(arguments.length);n[0]=e.params;for(var i=1;i<n.length;i++)n[i]=arguments[i];return e.cb.apply(e.cb,n)}function r(t){var e=i.match(t);if(e&&e.cb)return new s(e);var o=i.match(n);if(o&&o.cb)return new s(o);throw new Error("route '"+t+"' did not match")}function s(t){this.cb=t.cb,this.route=t.cb.route,this.params=t.params}},Pt={},kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt=/file:\/\//.test("object"===("undefined"==typeof window?"undefined":kt(window))&&window.location&&window.location.origin),Mt=new RegExp("^(file://|/)(.*.html?/?)?"),Ot=new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),zt=new RegExp("#"),It=new RegExp("[?].*$");function Bt(t){if(!(this instanceof Bt))return new Bt(t);t=t||{},this.router=St(t.default||"/404")}function Nt(t,e){return t=e?t.replace(Mt,""):t.replace(Ot,""),decodeURI(t.replace(It,"").replace(zt,"/"))}Pt=Bt,Bt.prototype.on=function(t,e){t=t.replace(/^[#\/]/,""),this.router.on(t,e)},Bt.prototype.emit=function(t){return t=Nt(t,Tt),this.router.emit(t)},Bt.prototype.match=function(t){return t=Nt(t,Tt),this.router.match(t)};var Rt=function(t,e){if(t)try{var n=document.querySelector(t);n&&n.scrollIntoView(e)}catch(Do){}},jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt=Ut,Dt={};function Ut(t){if(!(this instanceof Ut))return new Ut(t);t=t||{};var e=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===t.history||t.history,this._hrefEnabled=void 0===t.href||t.href,this._hashEnabled=void 0===t.hash||t.hash,this._hasWindow="undefined"!=typeof window,this._cache=t.cache,this._loaded=!1,this._stores=[],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?Lt(window.initialState,n):n,delete window.initialState):this.state=n,this.router=Pt({curry:!0}),this.emitter=ct("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(t){e.state.title=t,e._hasWindow&&(document.title=t)})}Ut.prototype.route=function(t,e){this.router.on(t,e)},Ut.prototype.use=function(t){var e=this;this._stores.push(function(n){var i="choo.use";i=t.storeName?i+"("+t.storeName+")":i;var o=lt(i);t(n,e.emitter,e),o()})},Ut.prototype.start=function(){var t,e,n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(Rt.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(t){window.history.pushState(Dt,null,t),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(t){window.history.replaceState(Dt,null,t),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&(t=function(t){var e=t.href,i=t.hash;e!==window.location.href?n.emitter.emit(n._events.PUSHSTATE,e):!n._hashEnabled&&i&&Rt(i)},e=e||window.document,window.addEventListener("click",function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.defaultPrevented)){var i=function t(n){if(n&&n!==e)return"a"!==n.localName||void 0===n.href?t(n.parentNode):n}(n.target);i&&(window.location.protocol!==i.protocol||window.location.hostname!==i.hostname||window.location.port!==i.port||i.hasAttribute("data-nanohref-ignore")||i.hasAttribute("download")||"_blank"===i.getAttribute("target")&&dt.test(i.getAttribute("rel"))||pt.test(i.getAttribute("href"))||(n.preventDefault(),t(i)))}}))),this._setCache(this.state),this._stores.forEach(function(t){t(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),this.emitter.prependListener(n._events.RENDER,function(t,e){e||(e=window.requestAnimationFrame);var n=!1,i=null;return function(){null!==i||n||(n=!0,e(function(){n=!1;for(var e=i.length,o=new Array(e),r=0;r<e;r++)o[r]=i[r];t.apply(t,o),i=null})),i=arguments}}(function(){var t=lt("choo.render"),e=n._prerender(n.state),i=lt("choo.morph");wt(n._tree,e),i(),t()})),nt(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},Ut.prototype.mount=function(t){if("object"!==("undefined"==typeof window?"undefined":jt(window)))return this.selector=t,this;var e=this;nt(function(){var n=lt("choo.render"),i=e.start();e._tree="string"==typeof t?document.querySelector(t):t;var o=lt("choo.morph");wt(e._tree,i),o(),n()})},Ut.prototype.toString=function(t,e){this.state=Lt(this.state,e||{});var n=this;this._setCache(this.state),this._stores.forEach(function(t){t(n.state)}),this._matchRoute(t);var i=this._prerender(this.state);return"string"==typeof i.outerHTML?i.outerHTML:i.toString()},Ut.prototype._matchRoute=function(t){var e,n;t?(e=t.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(e=e.replace(/#.+$/,"")),n=t):(e=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(e+=window.location.hash.replace(/^#/,"/")),n=window.location.search);var i,o=this.router.match(e);return this._handler=o.cb,this.state.href=e,this.state.query=(i={},n.replace(/^.*\?/,"").replace(xt,function(t,e,n,o){i[decodeURIComponent(e)]=decodeURIComponent(o)}),i),this.state.route=o.route,this.state.params=o.params,this.state},Ut.prototype._prerender=function(t){var e=lt("choo.prerender('"+t.route+"')"),n=this._handler(t,this.emit);return e(),n},Ut.prototype._setCache=function(t){var e=new J(t,this.emitter.emit.bind(this.emitter),this._cache);function n(t,n){for(var i=[],o=0,r=arguments.length;o<r;o++)i.push(arguments[o]);return e.render.apply(e,i)}t.cache=n,n.toJSON=function(){return null}};var Ft,Ht={exports:{}},Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Ft=function(t){"use strict";var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(Do){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function s(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function a(t){this.map={},t instanceof a?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader,n=l(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:e.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:e.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():e.arrayBuffer&&e.blob&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=c(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t,e,n,i=h(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,n=l(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}a.prototype.append=function(t,e){t=o(t),e=r(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},a.prototype.delete=function(t){delete this.map[o(t)]},a.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},a.prototype.set=function(t,e){this.map[o(t)]=r(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),s(t)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),s(t)},a.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),s(t)},e.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(t,e){var n,i,o=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),d.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];_.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(y){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function g(n,i){return new Promise(function(o,r){var s=new p(n,i);if(s.signal&&s.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function l(){h.abort()}h.onload=function(){var t,e,n={status:h.status,statusText:h.statusText,headers:(t=h.getAllResponseHeaders()||"",e=new a,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();e.append(i,o)}}),e)};n.url="responseURL"in h?h.responseURL:n.headers.get("X-Request-URL");var i="response"in h?h.response:h.responseText;o(new _(i,n))},h.onerror=function(){r(new TypeError("Network request failed"))},h.ontimeout=function(){r(new TypeError("Network request failed"))},h.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},h.open(s.method,s.url,!0),"include"===s.credentials?h.withCredentials=!0:"omit"===s.credentials&&(h.withCredentials=!1),"responseType"in h&&e.blob&&(h.responseType="blob"),s.headers.forEach(function(t,e){h.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",l),h.onreadystatechange=function(){4===h.readyState&&s.signal.removeEventListener("abort",l)}),h.send(void 0===s._bodyInit?null:s._bodyInit)})}g.polyfill=!0,self.fetch||(self.fetch=g,self.Headers=a,self.Request=p,self.Response=_),t.Headers=a,t.Request=p,t.Response=_,t.fetch=g,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===Ht.exports?"undefined":Gt(Ht.exports))?Ft(Ht.exports):"function"==typeof define&&define.amd?define(["exports"],Ft):Ft(this.WHATWGFetch={}),Ht=Ht.exports;self.fetch.bind(self);for(var Vt=[{size:{id:35,text:"35-40cm"},sp:{id:5,name:{en:"Coho Salmon",fr:"Saumon coho"}},wb:{name:{en:"Sowden Lake",fr:"Lac Sowden"},loc:{lat:49.5492,lon:-91.1975},id:"49329111"}},{wb:{name:{en:"Winisk River",fr:"Rivi\xe8re Winisk"},loc:{lat:55.2681,lon:-85.1169},id:"55178505"},sp:{id:"80",name:{en:"Brook Trout",fr:"Truite mouchet\xe9e"}},size:{id:40,text:"40-45cm"}}],qt={toByteArray:function(t){for(var e,n=Qt(t),i=n[0],o=n[1],r=new Xt(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),s=0,a=o>0?i-4:i,h=0;h<a;h+=4)e=Yt[t.charCodeAt(h)]<<18|Yt[t.charCodeAt(h+1)]<<12|Yt[t.charCodeAt(h+2)]<<6|Yt[t.charCodeAt(h+3)],r[s++]=e>>16&255,r[s++]=e>>8&255,r[s++]=255&e;return 2===o&&(e=Yt[t.charCodeAt(h)]<<2|Yt[t.charCodeAt(h+1)]>>4,r[s++]=255&e),1===o&&(e=Yt[t.charCodeAt(h)]<<10|Yt[t.charCodeAt(h+1)]<<4|Yt[t.charCodeAt(h+2)]>>2,r[s++]=e>>8&255,r[s++]=255&e),r},fromByteArray:function(t){for(var e,n=t.length,i=n%3,o=[],r=0,s=n-i;r<s;r+=16383)o.push(te(t,r,r+16383>s?s:r+16383));return 1===i?(e=t[n-1],o.push(Wt[e>>2]+Wt[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(Wt[e>>10]+Wt[e>>4&63]+Wt[e<<2&63]+"=")),o.join("")}},Wt=[],Yt=[],Xt="undefined"!=typeof Uint8Array?Uint8Array:Array,Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t=0,Jt=Kt.length;$t<Jt;++$t)Wt[$t]=Kt[$t],Yt[Kt.charCodeAt($t)]=$t;function Qt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function te(t,e,n){for(var i,o,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(Wt[(o=i)>>18&63]+Wt[o>>12&63]+Wt[o>>6&63]+Wt[63&o]);return r.join("")}Yt["-".charCodeAt(0)]=62,Yt["_".charCodeAt(0)]=63;var ee={read:function(t,e,n,i,o){var r,s,a=8*o-i-1,h=(1<<a)-1,l=h>>1,u=-7,c=n?o-1:0,f=n?-1:1,d=t[e+c];for(c+=f,r=d&(1<<-u)-1,d>>=-u,u+=a;u>0;r=256*r+t[e+c],c+=f,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=i;u>0;s=256*s+t[e+c],c+=f,u-=8);if(0===r)r=1-l;else{if(r===h)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),r-=l}return(d?-1:1)*s*Math.pow(2,r-i)},write:function(t,e,n,i,o,r){var s,a,h,l=8*r-o-1,u=(1<<l)-1,c=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+c>=1?f/h:f*Math.pow(2,1-c))*h>=2&&(s++,h/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(e*h-1)*Math.pow(2,o),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*m}},ne={},ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};ne.Buffer=se,ne.INSPECT_MAX_BYTES=50;var oe=2147483647;function re(t){if(t>oe)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=se.prototype,e}function se(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return le(t)}return ae(t,e,n)}function ae(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!se.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|fe(t,e),i=re(n),o=i.write(t,e);return o!==n&&(i=i.slice(0,o)),i}(t,e);if(ArrayBuffer.isView(t))return ue(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":ie(t)));if(je(t,ArrayBuffer)||t&&je(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=se.prototype,i}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return se.from(i,e,n);var o=function(t){if(se.isBuffer(t)){var e=0|ce(t.length),n=re(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}return void 0!==t.length?"number"!=typeof t.length||Ze(t.length)?re(0):ue(t):"Buffer"===t.type&&Array.isArray(t.data)?ue(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return se.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":ie(t)))}function he(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function le(t){return he(t),re(t<0?0:0|ce(t))}function ue(t){for(var e=t.length<0?0:0|ce(t.length),n=re(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function ce(t){if(t>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return 0|t}function fe(t,e){if(se.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||je(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":ie(t)));var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Be(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ne(t).length;default:if(o)return i?-1:Be(t).length;e=(""+e).toLowerCase(),o=!0}}function de(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function pe(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Ze(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=se.from(e,i)),se.isBuffer(e))return 0===e.length?-1:me(t,e,n,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):me(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function me(t,e,n,i,o){var r,s=1,a=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,h/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var u=-1;for(r=n;r<a;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===h)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(n+h>a&&(n=a-h),r=n;r>=0;r--){for(var c=!0,f=0;f<h;f++)if(l(t,r+f)!==l(e,f)){c=!1;break}if(c)return r}return-1}function _e(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;i>r/2&&(i=r/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(Ze(a))return s;t[n+s]=a}return s}function ve(t,e,n,i){return Re(Be(e,t.length-n),t,n,i)}function ge(t,e,n,i){return Re(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function ye(t,e,n,i){return ge(t,e,n,i)}function be(t,e,n,i){return Re(Ne(e),t,n,i)}function we(t,e,n,i){return Re(function(t,e){for(var n,i,o,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function xe(t,e,n){return 0===e&&n===t.length?qt.fromByteArray(t):qt.fromByteArray(t.slice(e,n))}function Le(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,s,a,h,l=t[o],u=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c<=n)switch(c){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[o+1]))&&(h=(31&l)<<6|63&r)>127&&(u=h);break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&(h=(15&l)<<12|(63&r)<<6|63&s)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(h=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&h<1114112&&(u=h)}null===u?(u=65533,c=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=c}return function(t){var e=t.length;if(e<=Ee)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Ee));return n}(i)}se.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(Do){return!1}}(),se.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(se.prototype,"parent",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.buffer}}),Object.defineProperty(se.prototype,"offset",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&se[Symbol.species]===se&&Object.defineProperty(se,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),se.poolSize=8192,se.from=function(t,e,n){return ae(t,e,n)},se.prototype.__proto__=Uint8Array.prototype,se.__proto__=Uint8Array,se.alloc=function(t,e,n){return function(t,e,n){return he(t),t<=0?re(t):void 0!==e?"string"==typeof n?re(t).fill(e,n):re(t).fill(e):re(t)}(t,e,n)},se.allocUnsafe=function(t){return le(t)},se.allocUnsafeSlow=function(t){return le(t)},se.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==se.prototype},se.compare=function(t,e){if(je(t,Uint8Array)&&(t=se.from(t,t.offset,t.byteLength)),je(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),!se.isBuffer(t)||!se.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},se.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},se.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return se.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=se.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var r=t[n];if(je(r,Uint8Array)&&(r=se.from(r)),!se.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,o),o+=r.length}return i},se.byteLength=fe,se.prototype._isBuffer=!0,se.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)de(this,e,e+1);return this},se.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)de(this,e,e+3),de(this,e+1,e+2);return this},se.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)de(this,e,e+7),de(this,e+1,e+6),de(this,e+2,e+5),de(this,e+3,e+4);return this},se.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?Le(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Se(this,e,n);case"utf8":case"utf-8":return Le(this,e,n);case"ascii":return Ce(this,e,n);case"latin1":case"binary":return Ae(this,e,n);case"base64":return xe(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},se.prototype.toLocaleString=se.prototype.toString,se.prototype.equals=function(t){if(!se.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===se.compare(this,t)},se.prototype.inspect=function(){var t="",e=ne.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},se.prototype.compare=function(t,e,n,i,o){if(je(t,Uint8Array)&&(t=se.from(t,t.offset,t.byteLength)),!se.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":ie(t)));if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(r,s),h=this.slice(i,o),l=t.slice(e,n),u=0;u<a;++u)if(h[u]!==l[u]){r=h[u],s=l[u];break}return r<s?-1:s<r?1:0},se.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},se.prototype.indexOf=function(t,e,n){return pe(this,t,e,n,!0)},se.prototype.lastIndexOf=function(t,e,n){return pe(this,t,e,n,!1)},se.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return _e(this,t,e,n);case"utf8":case"utf-8":return ve(this,t,e,n);case"ascii":return ge(this,t,e,n);case"latin1":case"binary":return ye(this,t,e,n);case"base64":return be(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ee=4096;function Ce(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function Ae(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function Se(t,e,n){var i,o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var r="",s=e;s<n;++s)r+=(i=t[s])<16?"0"+i.toString(16):i.toString(16);return r}function Pe(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function ke(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function Te(t,e,n,i,o,r){if(!se.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function Me(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Oe(t,e,n,i,o){return e=+e,n>>>=0,o||Me(t,0,n,4),ee.write(t,e,n,i,23,4),n+4}function ze(t,e,n,i,o){return e=+e,n>>>=0,o||Me(t,0,n,8),ee.write(t,e,n,i,52,8),n+8}se.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=se.prototype,i},se.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||ke(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},se.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||ke(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},se.prototype.readUInt8=function(t,e){return t>>>=0,e||ke(t,1,this.length),this[t]},se.prototype.readUInt16LE=function(t,e){return t>>>=0,e||ke(t,2,this.length),this[t]|this[t+1]<<8},se.prototype.readUInt16BE=function(t,e){return t>>>=0,e||ke(t,2,this.length),this[t]<<8|this[t+1]},se.prototype.readUInt32LE=function(t,e){return t>>>=0,e||ke(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},se.prototype.readUInt32BE=function(t,e){return t>>>=0,e||ke(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},se.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||ke(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},se.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||ke(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},se.prototype.readInt8=function(t,e){return t>>>=0,e||ke(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},se.prototype.readInt16LE=function(t,e){t>>>=0,e||ke(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},se.prototype.readInt16BE=function(t,e){t>>>=0,e||ke(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},se.prototype.readInt32LE=function(t,e){return t>>>=0,e||ke(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},se.prototype.readInt32BE=function(t,e){return t>>>=0,e||ke(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},se.prototype.readFloatLE=function(t,e){return t>>>=0,e||ke(t,4,this.length),ee.read(this,t,!0,23,4)},se.prototype.readFloatBE=function(t,e){return t>>>=0,e||ke(t,4,this.length),ee.read(this,t,!1,23,4)},se.prototype.readDoubleLE=function(t,e){return t>>>=0,e||ke(t,8,this.length),ee.read(this,t,!0,52,8)},se.prototype.readDoubleBE=function(t,e){return t>>>=0,e||ke(t,8,this.length),ee.read(this,t,!1,52,8)},se.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||Te(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},se.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||Te(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},se.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,1,255,0),this[e]=255&t,e+1},se.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},se.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},se.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},se.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},se.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);Te(this,t,e,n,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<n&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},se.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);Te(this,t,e,n,o-1,-o)}var r=n-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},se.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},se.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},se.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},se.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},se.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||Te(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},se.prototype.writeFloatLE=function(t,e,n){return Oe(this,t,e,!0,n)},se.prototype.writeFloatBE=function(t,e,n){return Oe(this,t,e,!1,n)},se.prototype.writeDoubleLE=function(t,e,n){return ze(this,t,e,!0,n)},se.prototype.writeDoubleBE=function(t,e,n){return ze(this,t,e,!1,n)},se.prototype.copy=function(t,e,n,i){if(!se.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,i);else if(this===t&&n<e&&e<i)for(var r=o-1;r>=0;--r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,i),e);return o},se.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!se.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var s=se.isBuffer(t)?t:se.from(t,i),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=s[r%a]}return this};var Ie=/[^+\/0-9A-Za-z-_]/g;function Be(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function Ne(t){return qt.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Ie,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Re(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function je(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Ze(t){return t!=t}var De,Ue={};(function(t){var e=[0,1,3,7,15,31,63,127,255],n=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};n.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},n.prototype.read=function(t){for(var n=0;t>0;){this._ensureByte();var i=8-this.bitOffset;if(t>=i)n<<=i,n|=e[i]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=i;else{n<<=t;var o=i-t;n|=(this.curByte&e[t]<<o)>>o,this.bitOffset+=t,t=0}}return n},n.prototype.seek=function(t){var e=t%8,n=(t-e)/8;this.bitOffset=e,this.stream.seek(n),this.hasByte=!1},n.prototype.pi=function(){var e,n=new t(6);for(e=0;e<n.length;e++)n[e]=this.read(8);return n.toString("hex")},Ue=n}).call(this,ne.Buffer);var Fe=(De=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var t=4294967295;this.getCRC=function(){return~t>>>0},this.updateCRC=function(e){t=t<<8^De[255&(t>>>24^e)]},this.updateCRCRun=function(e,n){for(;n-- >0;)t=t<<8^De[255&(t>>>24^e)]}}),He={},Ge=function(){};Ge.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")},Ge.prototype.read=function(t,e,n){for(var i=0;i<n;){var o=this.readByte();if(o<0)return 0===i?-1:i;t[e++]=o,i++}return i},Ge.prototype.seek=function(t){throw new Error("abstract method seek() not implemented")},Ge.prototype.writeByte=function(t){throw new Error("abstract method readByte() not implemented")},Ge.prototype.write=function(t,e,n){var i;for(i=0;i<n;i++)this.writeByte(t[e++]);return n},Ge.prototype.flush=function(){},He=Ge;var Ve="MIT",qe="1.0.5",We={};(function(t){var e=function(t,e){var n,i=t[e];for(n=e;n>0;n--)t[n]=t[n-1];return t[0]=i,i},n={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},i={};i[n.LAST_BLOCK]="Bad file checksum",i[n.NOT_BZIP_DATA]="Not bzip data",i[n.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",i[n.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",i[n.DATA_ERROR]="Data error",i[n.OUT_OF_MEMORY]="Out of memory",i[n.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var o=function(t,e){var n=i[t]||"unknown error";e&&(n+=": "+e);var o=new TypeError(n);throw o.errorCode=t,o},r=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};r.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new Fe,!0):(this.writeCount=-1,!1)},r.prototype._start_bunzip=function(e,i){var r=new t(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||o(n.NOT_BZIP_DATA,"bad magic");var s=r[3]-48;(s<1||s>9)&&o(n.NOT_BZIP_DATA,"level out of range"),this.reader=new Ue(e),this.dbufSize=1e5*s,this.nextoutput=0,this.outputStream=i,this.streamCRC=0},r.prototype._get_next_block=function(){var i,r,s,a=this.reader,h=a.pi();if("177245385090"===h)return!1;"314159265359"!==h&&o(n.NOT_BZIP_DATA),this.targetBlockCRC=a.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,a.read(1)&&o(n.OBSOLETE_INPUT);var l=a.read(24);l>this.dbufSize&&o(n.DATA_ERROR,"initial position out of bounds");var u=a.read(16),c=new t(256),f=0;for(i=0;i<16;i++)if(u&1<<15-i){var d=16*i;for(s=a.read(16),r=0;r<16;r++)s&1<<15-r&&(c[f++]=d+r)}var p=a.read(3);(p<2||p>6)&&o(n.DATA_ERROR);var m=a.read(15);0===m&&o(n.DATA_ERROR);var _=new t(256);for(i=0;i<p;i++)_[i]=i;var v=new t(m);for(i=0;i<m;i++){for(r=0;a.read(1);r++)r>=p&&o(n.DATA_ERROR);v[i]=e(_,r)}var g,y=f+2,b=[];for(r=0;r<p;r++){var w,x,L=new t(y),E=new Uint16Array(21);for(u=a.read(5),i=0;i<y;i++){for(;(u<1||u>20)&&o(n.DATA_ERROR),a.read(1);)a.read(1)?u--:u++;L[i]=u}for(w=x=L[0],i=1;i<y;i++)L[i]>x?x=L[i]:L[i]<w&&(w=L[i]);g={},b.push(g),g.permute=new Uint16Array(258),g.limit=new Uint32Array(22),g.base=new Uint32Array(21),g.minLen=w,g.maxLen=x;var C=0;for(i=w;i<=x;i++)for(E[i]=g.limit[i]=0,u=0;u<y;u++)L[u]===i&&(g.permute[C++]=u);for(i=0;i<y;i++)E[L[i]]++;for(C=u=0,i=w;i<x;i++)C+=E[i],g.limit[i]=C-1,C<<=1,u+=E[i],g.base[i+1]=C-u;g.limit[x+1]=Number.MAX_VALUE,g.limit[x]=C+E[x]-1,g.base[w]=0}var A=new Uint32Array(256);for(i=0;i<256;i++)_[i]=i;var S,P=0,k=0,T=0,M=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,T>=m&&o(n.DATA_ERROR),g=b[v[T++]]),i=g.minLen,r=a.read(i);i>g.maxLen&&o(n.DATA_ERROR),!(r<=g.limit[i]);i++)r=r<<1|a.read(1);((r-=g.base[i])<0||r>=258)&&o(n.DATA_ERROR);var O=g.permute[r];if(0!==O&&1!==O){if(P)for(P=0,k+u>this.dbufSize&&o(n.DATA_ERROR),A[S=c[_[0]]]+=u;u--;)M[k++]=S;if(O>f)break;k>=this.dbufSize&&o(n.DATA_ERROR),A[S=c[S=e(_,i=O-1)]]++,M[k++]=S}else P||(P=1,u=0),u+=0===O?P:2*P,P<<=1}for((l<0||l>=k)&&o(n.DATA_ERROR),r=0,i=0;i<256;i++)s=r+A[i],A[i]=r,r=s;for(i=0;i<k;i++)M[A[S=255&M[i]]]|=i<<8,A[S]++;var z=0,I=0,B=0;return k&&(I=255&(z=M[l]),z>>=8,B=-1),this.writePos=z,this.writeCurrent=I,this.writeCount=k,this.writeRun=B,!0},r.prototype._read_bunzip=function(t,e){var i,r,s;if(this.writeCount<0)return 0;for(var a=this.dbuf,h=this.writePos,l=this.writeCurrent,u=this.writeCount,c=(this.outputsize,this.writeRun);u;){for(u--,r=l,l=255&(h=a[h]),h>>=8,3==c++?(i=l,s=r,l=-1):(i=1,s=l),this.blockCRC.updateCRCRun(s,i);i--;)this.outputStream.writeByte(s),this.nextoutput++;l!=r&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&o(n.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var s=function(t){if("readByte"in t)return t;var e=new He;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(t){this.pos=t},e.eof=function(){return this.pos>=t.length},e},a=function(e){var n=new He,i=!0;if(e)if("number"==typeof e)n.buffer=new t(e),i=!1;else{if("writeByte"in e)return e;n.buffer=e,i=!1}else n.buffer=new t(16384);return n.pos=0,n.writeByte=function(e){if(i&&this.pos>=this.buffer.length){var n=new t(2*this.buffer.length);this.buffer.copy(n),this.buffer=n}this.buffer[this.pos++]=e},n.getBuffer=function(){if(this.pos!==this.buffer.length){if(!i)throw new TypeError("outputsize does not match decoded input");var e=new t(this.pos);this.buffer.copy(e,0,0,this.pos),this.buffer=e}return this.buffer},n._coerced=!0,n};r.Err=n,r.decode=function(t,e,i){for(var h=s(t),l=a(e),u=new r(h,l);!("eof"in h&&h.eof());)if(u._init_block())u._read_bunzip();else{var c=u.reader.read(32)>>>0;if(c!==u.streamCRC&&o(n.DATA_ERROR,"Bad stream CRC (got "+u.streamCRC.toString(16)+" expected "+c.toString(16)+")"),!(i&&"eof"in h)||h.eof())break;u._start_bunzip(h,l)}if("getBuffer"in l)return l.getBuffer()},r.decodeBlock=function(t,e,n){var i=s(t),o=a(n),h=new r(i,o);if(h.reader.seek(e),h._get_next_block()&&(h.blockCRC=new Fe,h.writeCopies=0,h._read_bunzip()),"getBuffer"in o)return o.getBuffer()},r.table=function(t,e,n){var i=new He;i.delegate=s(t),i.pos=0,i.readByte=function(){return this.pos++,this.delegate.readByte()},i.delegate.eof&&(i.eof=i.delegate.eof.bind(i.delegate));var o=new He;o.pos=0,o.writeByte=function(){this.pos++};var a=new r(i,o);for(a.dbufSize;!("eof"in i&&i.eof());){var h=8*i.pos+a.reader.bitOffset;if(a.reader.hasByte&&(h-=8),a._init_block()){var l=o.pos;a._read_bunzip(),e(h,o.pos-l)}else{if(a.reader.read(32),!(n&&"eof"in i)||i.eof())break;a._start_bunzip(i,o)}}},r.Stream=He,r.version=qe,r.license=Ve,We=r}).call(this,ne.Buffer);var Ye,Xe=["wb","spp","pops","causes","adv"],Ke="_99909e28",$e="_6a7114ae",Je=/\n[\s]+$/,Qe=/^\n[\s]+/,tn=/[\s]+$/,en=/^[\s]+/,nn=/[\n\s]+/g,on=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],rn=["code","pre","textarea"],sn=function t(e,n){if(Array.isArray(n))for(var i,o,r=e.nodeName.toLowerCase(),s=!1,a=0,h=n.length;a<h;a++){var l=n[a];if(Array.isArray(l))t(e,l);else{("number"==typeof l||"boolean"==typeof l||"function"==typeof l||l instanceof Date||l instanceof RegExp)&&(l=l.toString());var u=e.childNodes[e.childNodes.length-1];if("string"==typeof l)s=!0,u&&"#text"===u.nodeName?u.nodeValue+=l:(l=document.createTextNode(l),e.appendChild(l),u=l),a===h-1&&(s=!1,-1===on.indexOf(r)&&-1===rn.indexOf(r)?""===(i=u.nodeValue.replace(Qe,"").replace(tn,"").replace(Je,"").replace(nn," "))?e.removeChild(u):u.nodeValue=i:-1===rn.indexOf(r)&&(o=0===a?"":" ",i=u.nodeValue.replace(Qe,o).replace(en," ").replace(tn,"").replace(Je,"").replace(nn," "),u.nodeValue=i));else if(l&&l.nodeType){s&&(s=!1,-1===on.indexOf(r)&&-1===rn.indexOf(r)?""===(i=u.nodeValue.replace(Qe,"").replace(Je,"").replace(nn," "))?e.removeChild(u):u.nodeValue=i:-1===rn.indexOf(r)&&(i=u.nodeValue.replace(en," ").replace(Qe,"").replace(Je,"").replace(nn," "),u.nodeValue=i));var c=l.nodeName;c&&(r=c.toLowerCase()),e.appendChild(l)}}}},an="src - route not found",hn=function(t,e,n){var i=function(){var t=document.createElement("button");return t.setAttribute("class",arguments[0]+" "+arguments[1]),sn(t,[arguments[2]]),t}(t.style.classes.button,n.classes,n.label);return i.onclick=n.onclick,i},ln=function(t,e,n){return function(){var t=document.createElement("input");return t.setAttribute("type",arguments[0]),t.setAttribute("placeholder",arguments[1]),t.setAttribute("class",arguments[2]),t}(n.type||"text",n.placeholder,t.style.classes.input||"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100")},un={exports:{}},cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Ye=function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),o.forEach(function(e){n(t,e,i[e])})}return t}var o=function(){},r={},s={},a={mark:o,measure:o};try{"undefined"!=typeof window&&(r=window),"undefined"!=typeof document&&(s=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(a=performance)}catch(Do){}var h=(r.navigator||{}).userAgent,l=void 0===h?"":h,u=r,c=s,f=a,d=(u.document,!!c.documentElement&&!!c.head&&"function"==typeof c.addEventListener&&"function"==typeof c.createElement),p=(~l.indexOf("MSIE")||l.indexOf("Trident/"),"fa"),m="svg-inline--fa",_="data-fa-i2svg",v=(function(){try{}catch(Do){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),g=v.concat([11,12,13,14,15,16,17,18,19,20]),y=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(v.map(function(t){return"".concat(t,"x")})).concat(g.map(function(t){return"w-".concat(t)})),u.FontAwesomeConfig||{});c&&"function"==typeof c.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e,n,i=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(h){o=!0,r=h}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=i[0],r=i[1],s=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=c.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(o));null!=s&&(y[r]=s)});var b=i({familyPrefix:p,replacementClass:m,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},y);b.autoReplaceSvg||(b.observeMutations=!1);var w=i({},b);u.FontAwesomeConfig=w;var x=u||{};x.___FONT_AWESOME___||(x.___FONT_AWESOME___={}),x.___FONT_AWESOME___.styles||(x.___FONT_AWESOME___.styles={}),x.___FONT_AWESOME___.hooks||(x.___FONT_AWESOME___.hooks={}),x.___FONT_AWESOME___.shims||(x.___FONT_AWESOME___.shims=[]);var L=x.___FONT_AWESOME___,E=[];d&&((c.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(c.readyState)||c.addEventListener("DOMContentLoaded",function t(){c.removeEventListener("DOMContentLoaded",t),1,E.map(function(t){return t()})}));var C={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function A(t){if(t&&d){var e=c.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=c.head.childNodes,i=null,o=n.length-1;o>-1;o--){var r=n[o],s=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=r)}return c.head.insertBefore(e,i),t}}var S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function P(){for(var t=12,e="";t-- >0;)e+=S[62*Math.random()|0];return e}function k(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function M(t){return t.size!==C.size||t.x!==C.x||t.y!==C.y||t.rotate!==C.rotate||t.flipX||t.flipY}function O(t){var e=t.transform,n=t.containerWidth,i=t.iconWidth,o={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(r," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var z={x:0,y:0,width:"100%",height:"100%"};function I(t){var e=t.icons,n=e.main,o=e.mask,r=t.prefix,s=t.iconName,a=t.transform,h=t.symbol,l=t.title,u=t.extra,c=t.watchable,f=void 0!==c&&c,d=o.found?o:n,p=d.width,m=d.height,v="fa-w-".concat(Math.ceil(p/m*16)),g=[w.replacementClass,s?"".concat(w.familyPrefix,"-").concat(s):"",v].filter(function(t){return-1===u.classes.indexOf(t)}).concat(u.classes).join(" "),y={children:[],attributes:i({},u.attributes,{"data-prefix":r,"data-icon":s,class:g,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})};f&&(y.attributes[_]=""),l&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(P())},children:[l]});var b=i({},y,{prefix:r,iconName:s,main:n,mask:o,transform:a,symbol:h,styles:u.styles}),x=o.found&&n.found?function(t){var e=t.children,n=t.attributes,o=t.main,r=t.mask,s=t.transform,a=o.width,h=o.icon,l=r.width,u=r.icon,c=O({transform:s,containerWidth:l,iconWidth:a}),f={tag:"rect",attributes:i({},z,{fill:"white"})},d={tag:"g",attributes:i({},c.inner),children:[{tag:"path",attributes:i({},h.attributes,c.path,{fill:"black"})}]},p={tag:"g",attributes:i({},c.outer),children:[d]},m="mask-".concat(P()),_="clip-".concat(P()),v={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:[u]},{tag:"mask",attributes:i({},z,{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,p]}]};return e.push(v,{tag:"rect",attributes:i({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(m,")")},z)}),{children:e,attributes:n}}(b):function(t){var e=t.children,n=t.attributes,o=t.main,r=t.transform,s=T(t.styles);if(s.length>0&&(n.style=s),M(r)){var a=O({transform:r,containerWidth:o.width,iconWidth:o.width});e.push({tag:"g",attributes:i({},a.outer),children:[{tag:"g",attributes:i({},a.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:i({},o.icon.attributes,a.path)}]}]})}else e.push(o.icon);return{children:e,attributes:n}}(b),L=x.children,E=x.attributes;return b.children=L,b.attributes=E,h?function(t){var e=t.prefix,n=t.iconName,o=t.children,r=t.attributes,s=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:i({},r,{id:!0===s?"".concat(e,"-").concat(w.familyPrefix,"-").concat(n):s}),children:o}]}]}(b):function(t){var e=t.children,n=t.main,o=t.mask,r=t.attributes,s=t.styles,a=t.transform;if(M(a)&&n.found&&!o.found){var h={x:n.width/n.height/2,y:.5};r.style=T(i({},s,{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(b)}var B=function(){},N=(w.measurePerformance&&f&&f.mark&&f.measure,function(t,e,n,i){var o,r,s,a=Object.keys(t),h=a.length,l=void 0!==i?function(t,e){return function(n,i,o,r){return t.call(e,n,i,o,r)}}(e,i):e;for(void 0===n?(o=1,s=t[a[0]]):(o=0,s=n);o<h;o++)s=l(s,t[r=a[o]],r,t);return s}),R=L.styles,j=L.shims,Z=function(){var t=function(t){return N(R,function(e,n,i){return e[i]=N(n,t,{}),e},{})};t(function(t,e,n){return t[e[3]]=n,t}),t(function(t,e,n){var i=e[2];return t[n]=n,i.forEach(function(e){t[e]=n}),t});var e="far"in R;N(j,function(t,n){var i=n[0],o=n[1],r=n[2];return"far"!==o||e||(o="fas"),t[i]={prefix:o,iconName:r},t},{})};Z();L.styles;function D(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function U(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,o=t.children,r=void 0===o?[]:o;return"string"==typeof t?k(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(k(t[n]),'" ')},"").trim()}(i),">").concat(r.map(U).join(""),"</").concat(e,">")}function F(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}F.prototype=Object.create(Error.prototype),F.prototype.constructor=F;var H={fill:"currentColor"},G={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},V={tag:"path",attributes:i({},H,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},q=i({},G,{attributeName:"opacity"});i({},H,{cx:"256",cy:"364",r:"28"}),i({},G,{attributeName:"r",values:"28;14;28;28;14;28;"}),i({},q,{values:"1;0;1;1;0;1;"}),i({},H,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),i({},q,{values:"1;0;0;0;0;1;"}),i({},H,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),i({},q,{values:"0;0;1;1;0;0;"}),L.styles;var W='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}';function Y(){var t=p,e=m,n=w.familyPrefix,i=w.replacementClass,o=W;if(n!==t||i!==e){var r=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");o=o.replace(r,".".concat(n,"-")).replace(s,".".concat(i))}return o}function X(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function K(){w.autoAddCss&&!et&&(A(Y()),et=!0)}function $(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return U(t)})}}),Object.defineProperty(t,"node",{get:function(){if(d){var e=c.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function J(t){var e=t.prefix,n=void 0===e?"fa":e,i=t.iconName;if(i)return D(tt.definitions,n,i)||D(L.styles,n,i)}var Q,tt=new(function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.definitions={}}var n,o;return n=t,(o=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach(function(e){t.definitions[e]=i({},t.definitions[e]||{},r[e]),function t(e,n){var o=Object.keys(n).reduce(function(t,e){var i=n[e];return i.icon?t[i.iconName]=i.icon:t[e]=i,t},{});"function"==typeof L.hooks.addPack?L.hooks.addPack(e,o):L.styles[e]=i({},L.styles[e]||{},o),"fas"===e&&t("fa",n)}(e,r[e]),Z()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var i=n[e],o=i.prefix,r=i.iconName,s=i.icon;t[o]||(t[o]={}),t[o][r]=s}),t}}])&&e(n.prototype,o),t}()),et=!1,nt=(Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,o=void 0===n?C:n,r=e.symbol,s=void 0!==r&&r,a=e.mask,h=void 0===a?null:a,l=e.title,u=void 0===l?null:l,c=e.classes,f=void 0===c?[]:c,d=e.attributes,p=void 0===d?{}:d,m=e.styles,_=void 0===m?{}:m;if(t){var v=t.prefix,g=t.iconName,y=t.icon;return $(i({type:"icon"},t),function(){return K(),w.autoA11y&&(u?p["aria-labelledby"]="".concat(w.replacementClass,"-title-").concat(P()):p["aria-hidden"]="true"),I({icons:{main:X(y),mask:h?X(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:g,transform:i({},C,o),symbol:s,title:u,extra:{attributes:p,styles:_,classes:f}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:J(t||{}),o=e.mask;return o&&(o=(o||{}).icon?o:J(o||{})),Q(n,i({},e,{mask:o}))});t.icon=nt,t.library=tt,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===un.exports?"undefined":cn(un.exports))?Ye(un.exports):"function"==typeof define&&define.amd?define(["exports"],Ye):Ye(this["fontawesome-svg-core"]={}),un=un.exports;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});var dn=[],pn="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z";fn.definition={prefix:"fas",iconName:"chevron-down",icon:[448,512,dn,"f078",pn]},fn.definition;var mn=un.library,_n=un.icon,vn=fn.definition;mn.add(vn);var gn={}.hasOwnProperty,yn=/[ -,\.\/;-@\[-\^`\{-~]/,bn=/[ -,\.\/;-@\[\]\^`\{-~]/,wn=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,xn=function t(e,n){"single"!=(n=function(t,e){if(!t)return e;var n={};for(var i in e)n[i]=gn.call(t,i)?t[i]:e[i];return n}(n,t.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var i="double"==n.quotes?'"':"'",o=n.isIdentifier,r=e.charAt(0),s="",a=0,h=e.length;a<h;){var l=e.charAt(a++),u=l.charCodeAt(),c=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&a<h){var f=e.charCodeAt(a++);56320==(64512&f)?u=((1023&u)<<10)+(1023&f)+65536:a--}c="\\"+u.toString(16).toUpperCase()+" "}else c=n.escapeEverything?yn.test(l)?"\\"+l:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B:]/.test(l)?o||":"!=l?"\\"+u.toString(16).toUpperCase()+" ":l:"\\"==l||!o&&('"'==l&&i==l||"'"==l&&i==l)||o&&bn.test(l)?"\\"+l:l;s+=c}return o&&(/^_/.test(s)?s="\\_"+s.slice(1):/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(r)&&(s="\\3"+r+" "+s.slice(1))),s=s.replace(wn,function(t,e,n){return e&&e.length%2?t:(e||"")+n}),!o&&n.wrap?i+s+i:s};xn.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},xn.version="1.0.1";var Ln,En=/["'&<>]/,Cn=function(t){var e,n=""+t,i=En.exec(n);if(!i)return n;var o="",r=0,s=0;for(r=i.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==r&&(o+=n.substring(s,r)),s=r+1,o+=e}return s!==r?o+n.substring(s,r):o},An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn=Object.create||function(t){var e=function(){};return e.prototype=t,new e},Pn=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n},kn=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function Tn(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=Sn(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}Ln=Tn,Tn.EventEmitter=Tn,Tn.prototype._events=void 0,Tn.prototype._maxListeners=void 0;var Mn,On=10;try{var zn={};Object.defineProperty&&Object.defineProperty(zn,"x",{value:0}),Mn=0===zn.x}catch(Uo){Mn=!1}function In(t){return void 0===t._maxListeners?Tn.defaultMaxListeners:t._maxListeners}function Bn(t,e,n,i){var o,r,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((r=t._events)?(r.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),s=r[e]):(r=t._events=Sn(null),t._eventsCount=0),s){if("function"==typeof s?s=r[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=In(t))&&o>0&&s.length>o){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,"object"===("undefined"==typeof console?"undefined":An(console))&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=r[e]=n,++t._eventsCount;return t}function Nn(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function Rn(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=kn.call(Nn,i);return o.listener=n,i.wrapFn=o,o}function jn(t,e,n){var i=t._events;if(!i)return[];var o=i[e];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):Dn(o,o.length):[]}function Zn(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Dn(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Mn?Object.defineProperty(Tn,"defaultMaxListeners",{enumerable:!0,get:function(){return On},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');On=t}}):Tn.defaultMaxListeners=On,Tn.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Tn.prototype.getMaxListeners=function(){return In(this)},Tn.prototype.emit=function(t){var e,n,i,o,r,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var h=new Error('Unhandled "error" event. ('+e+")");throw h.context=e,h}if(!(n=s[t]))return!1;var l="function"==typeof n;switch(i=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var i=t.length,o=Dn(t,i),r=0;r<i;++r)o[r].call(n)}(n,l,this);break;case 2:!function(t,e,n,i){if(e)t.call(n,i);else for(var o=t.length,r=Dn(t,o),s=0;s<o;++s)r[s].call(n,i)}(n,l,this,arguments[1]);break;case 3:!function(t,e,n,i,o){if(e)t.call(n,i,o);else for(var r=t.length,s=Dn(t,r),a=0;a<r;++a)s[a].call(n,i,o)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,i,o,r){if(e)t.call(n,i,o,r);else for(var s=t.length,a=Dn(t,s),h=0;h<s;++h)a[h].call(n,i,o,r)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),r=1;r<i;r++)o[r-1]=arguments[r];!function(t,e,n,i){if(e)t.apply(n,i);else for(var o=t.length,r=Dn(t,o),s=0;s<o;++s)r[s].apply(n,i)}(n,l,this,o)}return!0},Tn.prototype.addListener=function(t,e){return Bn(this,t,e,!1)},Tn.prototype.on=Tn.prototype.addListener,Tn.prototype.prependListener=function(t,e){return Bn(this,t,e,!0)},Tn.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Rn(this,t,e)),this},Tn.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Rn(this,t,e)),this},Tn.prototype.removeListener=function(t,e){var n,i,o,r,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Sn(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===e||n[r].listener===e){s=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(t,e){for(var n=o,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}(n),1===n.length&&(i[t]=n[0]),i.removeListener&&this.emit("removeListener",t,s||e)}return this},Tn.prototype.removeAllListeners=function(t){var e,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=Sn(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=Sn(null):delete n[t]),this;if(0===arguments.length){var o,r=Pn(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Sn(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},Tn.prototype.listeners=function(t){return jn(this,t,!0)},Tn.prototype.rawListeners=function(t){return jn(this,t,!1)},Tn.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Zn.call(t,e)},Tn.prototype.listenerCount=Zn,Tn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Un=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Fn=Ln.EventEmitter,Hn=function(t){function e(t,n,i){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=void 0;if(o._handleKeydownSearchInput=o._handleKeydownSearchInput.bind(o),o._handleKeyupSearchInput=o._handleKeyupSearchInput.bind(o),o._handleClickListItem=o._handleClickListItem.bind(o),o._templateItems=o._templateItems.bind(o),o._templateSearchBox=o._templateSearchBox.bind(o),o._el=t,null==n&&(n=[]),o._items=n,null==i&&(i={}),o._el instanceof HTMLElement){if("SELECT"===o._el.tagName){o._items=e.selectElementSerialize(o._el),i=e.selectElementOptionSerialize(o._el),r={name:o._el.querySelector("option:checked").text.trim(),value:o._el.value};var s=document.createElement("div");s.id=o._el.id,s.className=o._el.className,o._el.parentNode.replaceChild(s,o._el),o._el=s}}else console.error("Invalid argument passed. First argument is not HTMLElement and might be jQuery object. ");return r=r||i.initialItem||e._getInitialItem(o._items),o._inputName=i.inputName||o._el.getAttribute("name")||"name",o._inputValueKey=i.inputValueKey||"name",o._inputValue=r[o._inputValueKey],o._itemIndex=0,o._searchedItems=e._searchItems(o._items,""),o._isListShown=!0,o._el.classList.add("searchable-input-container"),o._render(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Fn),Un(e,[{key:"_getItem",value:function(){var t={name:this._labelValue};return t[this._inputValueKey]=this._inputValue,t}},{key:"_setItem",value:function(t){return this._labelValue=t.name,this._inputValue=t[this._inputValueKey]}},{key:"_setItemIndex",value:function(t){return this._itemIndex=t}},{key:"_setSearchedItems",value:function(t){return this._searchedItems=t}},{key:"_isChange",value:function(t){return!(t.name===this._labelValue&&t[this._inputValueKey]===this._inputValue)}},{key:"_dispatchSelect",value:function(t){return this.emit("select",{item:t})}},{key:"_dispatchChange",value:function(t){return this.emit("change",{item:t})}},{key:"_dispatchChangeItems",value:function(t){return this.emit("changeItems",{item:t})}},{key:"_dispatchEvents",value:function(t){var e=this._getItem();if(this._dispatchSelect(e),this._isChange(t))return this._dispatchChange(e)}},{key:"_setEventHandlers",value:function(){var t=this._el.querySelector(".searchable-input-search-input");t&&(t.addEventListener("keydown",this._handleKeydownSearchInput),t.addEventListener("keyup",this._handleKeyupSearchInput))}},{key:"_removeEventHandlers",value:function(){var t=this._el.querySelector(".searchable-input-search-input");t&&(t.removeEventListener("keydown",this._handleKeydownSearchInput),t.removeEventListener("keyup",this._handleKeyupSearchInput))}},{key:"_setListItemEventHandlers",value:function(){var t=this,e=this._el.querySelectorAll(".searchable-input-list-item");return Array.from(e).map(function(e){return e.addEventListener("click",t._handleClickListItem)})}},{key:"_removeListItemEventHandlers",value:function(){var t=this,e=this._el.querySelectorAll(".searchable-input-list-item");return Array.from(e).map(function(e){return e.removeEventListener("click",t._handleClickListItem)})}},{key:"_handleClickLabel",value:function(){return this._show(),this._render(),this._focusInput()}},{key:"_handleKeydownSearchInput",value:function(t){var e=t.keyCode,n=t.shiftKey,i=t.ctrlKey||t.metaKey;switch(!0){case 13===e&&n&&!i:case 13===e&&!n&&!i:return t.preventDefault(),this._selectItemByKeydown(),this._render(),label.focus();case 9===e&&!n&&!i:return this._selectItemByKeydown(),this._render();case 9===e&&n&&!i:return this._selectItemByKeydown(),this._render(),label.focus();case 27===e&&!n&&!i:return this._render();case 38===e&&!n&&!i:return t.preventDefault(),this._decreaseItemIndex(),this._renderList();case 40===e&&!n&&!i:return t.preventDefault(),this._increaseItemIndex(),this._renderList()}}},{key:"_handleKeyupSearchInput",value:function(t){return this._setSearchedItems(e._searchItems(this._items,t.target.value)),this._renderList()}},{key:"_handleClickListItem",value:function(t){var e=JSON.parse(t.target.getAttribute("data-item")),n=this._getItem();return this._setItem(e),this._render(),this._renderInput(),this._dispatchEvents(n)}},{key:"_selectItemByKeydown",value:function(){var t=this._findItemByIndex(this._items,this._itemIndex).item,e=this._getItem();return this._setItem(t),this._renderInput(),this._dispatchEvents(e)}},{key:"_decreaseItemIndex",value:function(){var t=this._itemIndex-1;return t<0&&(t=this._calcItemLength(this._items)-1),this._setItemIndex(t)}},{key:"_increaseItemIndex",value:function(){var t=this._itemIndex+1;return t>this._calcItemLength(this._items)-1&&(t=0),this._setItemIndex(t)}},{key:"_calcItemLength",value:function(t){var e=0,n=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;a.items?e+=this._calcItemLength(a.items):e+=1}}catch(Uo){i=!0,o=Uo}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return e}},{key:"_calcItemIndex",value:function(t,e,n){null==n&&(n="name");for(var i=0,o=0;o<t.length;o++){var r=t[o];if(r.items){var s=this._calcItemIndex(r.items,e,n);if(i+=s,s!==r.items.length)return i}else{if(r.name===e.name&&r[n]===e[n])return i;i+=1}}return i}},{key:"_findItemByIndex",value:function(t,e){var n=void 0,i=void 0,o=0;for(n=0;n<t.length;n++)if((i=t[n]).items){var r=this._findItemByIndex(i.items,e-o);if(o+=r.index,null!==r.item)return{index:o,item:r.item}}else{if(o===e)return{index:o,item:i};o+=1}return{index:o,item:null}}},{key:"_focusInput",value:function(){return this._el.querySelector(".searchable-input-search-input").focus()}},{key:"getSelectedItem",value:function(){var t={};return t.name=this._labelValue,t[this._inputValueKey]=this._inputValue,t}},{key:"getValue",value:function(){return this._inputValue}},{key:"updateItem",value:function(t){var e=this._getItem();if(this._setItem(t),this._render(),this._isChange(e))return this._dispatchChange(t)}},{key:"updateItems",value:function(t){this._items=t;var n=e._getInitialItem(t);return this.searchedItems=e._searchItems(t,""),this._setItem(n),this._render(),this._dispatchChangeItems()}},{key:"_templateItems",value:function(t,e){null==e&&(e=0);var n="";if(null!==t)for(var i=0;i<t.length;i++){var o=t[i],r=Cn(JSON.stringify(o));o.items?(n+='<div class="flex flex-column w-100"><span class="searchable-input-list-title">'+Cn(o.name)+'</span><div class="flex flex-column w-100">'+this._templateItems(o.items,e)+"</div></div>",e+=o.items.length):(e===this._itemIndex?n+="<div class='searchable-input-list-item flex w-100 pa3 is-selected' data-item='"+r+"'>"+Cn(o.name)+"</div>":n+="<div class='searchable-input-list-item flex w-100 pa3' data-item='"+r+"'>"+Cn(o.name)+"</div>",e+=1)}return n}},{key:"_templateSearchBox",value:function(t){return'\n<div class="searchable-input-search-box '+this._getPositionClassNames().join(" ")+'">\n  <div class="searchable-input-search-input-container">\n    <input type="text" placeholder="type a fish name" class="searchable-input-search-input pa3 ba1 br1 w-100" />\n  </div>\n  <div class="searchable-input-list-container">\n    <div class="searchable-input-list w-100">'+this._templateItems(t)+"</div>\n  </div>\n</div>\n"}},{key:"_template",value:function(t){return'<div class="searchable-input">\n  <input type="hidden" name="'+this._inputName+'" value="'+this._inputValue+'" />\n  '+this._templateSearchBox(t)+"\n</div>\n"}},{key:"_getPositionClassNames",value:function(){var t=window.innerWidth,e=window.innerHeight,n=this._el.getBoundingClientRect(),i=n.top+this._el.offsetHeight,o=n.left+this._el.offsetWidth,r=[];return e-i<400&&r.push("searchable-input-search-box__top"),t-o<100&&r.push("searchable-input-search-box__right"),r}},{key:"_renderInput",value:function(){var t=this._el.querySelector('input[type="hidden"]');this._el.querySelector(".searchable-input-search-input"),t.value=this._inputValue}},{key:"_renderList",value:function(){return this._removeListItemEventHandlers(),this._el.querySelector(".searchable-input-list").innerHTML=this._templateItems(this._searchedItems),this._setListItemEventHandlers(),this._scrollListContainer()}},{key:"_render",value:function(){return this._removeEventHandlers(),this._removeListItemEventHandlers(),this._el.innerHTML=this._template(this._searchedItems),this._setEventHandlers(),this._setListItemEventHandlers(),this._scrollListContainer()}},{key:"_scrollListContainer",value:function(){var t=this._el.querySelector(".searchable-input-list-item.is-selected");if(t){var e=t.offsetTop;return this._el.querySelector(".searchable-input-list-container").scrollTop=e-110}}}],[{key:"_searchItems",value:function(t,n){var i=[],o=[],r=n.replace(new RegExp("\u3000","g")," ").split(" ");return t.forEach(function(s){return s.items?0!==(o=e._searchItems(s.items,n)).length&&i.push({name:s.name,items:o}):r.forEach(function(e){if(!(""===e&&r.length>1))return t.forEach(function(t){if(-1!==t.name.toUpperCase().indexOf(e.toUpperCase())&&(t.items||o.push(t)),t.keywords)return t.keywords.forEach(function(n){if(-1!==n.toUpperCase().indexOf(e.toUpperCase()))return o.push(t)})}),i=o.concat(),o=[]}),i}),function(t){for(var e=[],n=0;n<t.length;)-1===e.indexOf(t[n])&&e.push(t[n]),n++;return e}(i)}},{key:"_getInitialItem",value:function(t){return t[0].items?e._getInitialItem(t[0].items):t[0]}},{key:"selectElementSerialize",value:function(t){var e=t.querySelectorAll("select > option, select > optgroup"),n=[],i=function(t){var e=t.getAttribute("data-keywords");return e?JSON.parse(e):[]},o=!0,r=!1,s=void 0;try{for(var a,h=e[Symbol.iterator]();!(o=(a=h.next()).done);o=!0){var l,u=a.value;if("OPTION"===u.tagName&&((l={name:u.text.trim(),value:u.value}).keywords=i(u),n.push(l)),"OPTGROUP"===u.tagName){n.push({name:u.label,items:[]});var c=u.querySelectorAll("optgroup > option"),f=!0,d=!1,p=void 0;try{for(var m,_=c[Symbol.iterator]();!(f=(m=_.next()).done);f=!0){var v=m.value;(l={name:v.text.trim(),value:v.value}).keywords=i(v),n[n.length-1].items.push(l)}}catch(Uo){d=!0,p=Uo}finally{try{!f&&_.return&&_.return()}finally{if(d)throw p}}}}}catch(Uo){r=!0,s=Uo}finally{try{!o&&h.return&&h.return()}finally{if(r)throw s}}return n}},{key:"selectElementOptionSerialize",value:function(t){return{inputName:t.name,inputValueKey:"value"}}}]),e}(),Gn=/[A-Z]/g,Vn=/^ms-/,qn={},Wn=function(t){var e={};return Object.keys(t).forEach(function(n){var i;e[(i=n,i in qn?qn[i]:qn[i]=i.replace(Gn,"-$&").toLowerCase().replace(Vn,"-ms-"))]=t[n]}),JSON.stringify(e).replace(/\,/g,";").replace(/\"/g,"").replace(/\{|\}/g,"")},Yn={},Xn={};(function(t){var e,n=void 0!==t?t:"undefined"!=typeof window?window:{};"undefined"!=typeof document?e=document:(e=n["__GLOBAL_DOCUMENT_CACHE@4"])||(e=n["__GLOBAL_DOCUMENT_CACHE@4"]=Yn),Xn=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Kn={};(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},Kn=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var $n,Jn=Object.create(null),Qn="onloadid"+(new Date%9e6).toString(36),ti="data-"+Qn,ei=0;if(Kn&&Kn.MutationObserver){var ni=new MutationObserver(function(t){if(!(Object.keys(Jn).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==ti?(si(t[e].removedNodes,ri),si(t[e].addedNodes,oi)):(n=t[e],i=oi,o=ri,r=void 0,r=n.target.getAttribute(ti),function(t,e){return!(!t||!e)&&Jn[t][3]===Jn[e][3]}(n.oldValue,r)?Jn[r]=Jn[n.oldValue]:(Jn[n.oldValue]&&o(n.oldValue,n.target),Jn[r]&&i(r,n.target)));var n,i,o,r});Xn.body?ii(ni):Xn.addEventListener("DOMContentLoaded",function(t){ii(ni)})}function ii(t){t.observe(Xn.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[ti]})}function oi(t,e){Jn[t][0]&&0===Jn[t][2]&&(Jn[t][0](e),Jn[t][2]=1)}function ri(t,e){Jn[t][1]&&1===Jn[t][2]&&(Jn[t][1](e),Jn[t][2]=0)}function si(t,e){for(var n=Object.keys(Jn),i=0;i<t.length;i++){if(t[i]&&t[i].getAttribute&&t[i].getAttribute(ti)){var o=t[i].getAttribute(ti);n.forEach(function(n){o===n&&e(n,t[i])})}t[i].childNodes.length>0&&si(t[i].childNodes,e)}}($n=function t(e,n,i,o){return n=n||function(){},i=i||function(){},e.setAttribute(ti,"o"+ei),Jn["o"+ei]=[n,i,0,o||t.caller],ei+=1,e}).KEY_ATTR=ti;var ai,hi=$n.KEY_ID=Qn,li=$n.KEY_ATTR;function ui(t){this._hasWindow="undefined"!=typeof window,this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=t||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];var e=this;Object.defineProperty(this,"element",{get:function(){var t=Xn.getElementById(e._id);if(t)return t.dataset.nanocomponent===e._ncID?t:void 0}})}ai=ui,ui.prototype.render=function(){for(var t,e=lt(this._name+".render"),n=new Array(arguments.length),i=0;i<arguments.length;i++)n[i]=arguments[i];if(this._hasWindow){if(this.element){t=this.element;var o=lt(this._name+".update"),r=this._rerender||this.update.apply(this,n);if(o(),this._rerender&&(this._rerender=!1),r){var s=this._handleRender(n),a=lt(this._name+".morph");wt(t,s),a(),this.afterupdate&&this.afterupdate(t)}return this._proxy||(this._proxy=this._createProxy()),e(),this._proxy}return this._reset(),t=this._handleRender(n),this.beforerender&&this.beforerender(t),(this.load||this.unload||this.afterreorder)&&($n(t,this._handleLoad,this._handleUnload,this._ncID),this._olID=t.dataset[hi]),e(),t}var h=lt(this._name+".create");return t=this.createElement.apply(this,n),h(),e(),t},ui.prototype.rerender=function(){this._rerender=!0,this.render.apply(this,this._arguments)},ui.prototype._handleRender=function(t){var e=lt(this._name+".createElement"),n=this.createElement.apply(this,t);return e(),this._rootNodeName||(this._rootNodeName=n.nodeName),this._arguments=t,this._brandNode(this._ensureID(n))},ui.prototype._createProxy=function(){var t=Xn.createElement(this._rootNodeName),e=this;return this._brandNode(t),t.id=this._id,t.setAttribute("data-proxy",""),t.isSameNode=function(t){return t&&t.dataset.nanocomponent===e._ncID},t},ui.prototype._reset=function(){this._ncID="ncid-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null},ui.prototype._brandNode=function(t){return t.setAttribute("data-nanocomponent",this._ncID),this._olID&&t.setAttribute(li,this._olID),t},ui.prototype._ensureID=function(t){return t.id?this._id=t.id:t.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),t},ui.prototype._handleLoad=function(t){this._loaded?this.afterreorder&&this.afterreorder(t):(this._loaded=!0,this.load&&this.load(t))},ui.prototype._handleUnload=function(t){this.element||(this._loaded=!1,this.unload&&this.unload(t))},ui.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")},ui.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};var ci,fi=ai,di=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),pi="_a046bc37",mi=function(t){function e(t,n,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,o));return r.opts=Object.assign({classes:[pi],style:{height:0},content:null},o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,fi),di(e,[{key:"createElement",value:function(){return function(){var t=document.createElement("div");return t.setAttribute("style",arguments[0]),t.setAttribute("class","popover "+arguments[1]),sn(t,["\n      ",arguments[2],"\n    "]),t}(Wn(this.opts.style),this.opts.classes.join(" "),this.opts.content)}},{key:"update",value:function(){return!this.element}},{key:"show",value:function(t){Object.assign(this.opts,t),this.opts.style.display="block",this.opts.style.height="auto !important",this.element&&this.rerender()}},{key:"hide",value:function(){this.opts.style.display="none",this.opts.style.height=0,this.element&&this.rerender()}}]),e}(),_i=ai,vi=function(t,e,n){return i=sn,(o=document.createElement("div")).setAttribute("class","lds-ripple flex"),i(o,[document.createElement("div"),document.createElement("div")]),o;var i,o},gi={exports:{}},yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};ci=function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var n,i=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,h=t.length,l=0,u=!0;if(this._map){var c=(new Date).getTime(),f=L.bind(function(){for(var d=(new Date).getTime();l<h&&!(r&&l%200==0&&(new Date).getTime()-d>s);l++)if((n=t[l])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(n,t),h=t.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),e||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var p=n.__parent.getAllChildMarkers(),m=p[0]===n?p[1]:p[0];i.removeLayer(m)}}else o.addLayer(n),e||this.fire("layeradd",{layer:n});a&&a(l,h,(new Date).getTime()-c),l===h?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)},this);f()}else for(var d=this._needsClustering;l<h;l++)(n=t[l])instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(n,t),h=t.length):n.getLatLng?this.hasLayer(n)||d.push(n):o.addLayer(n);return this},removeLayers:function(t){var e,n,i=t.length,o=this._featureGroup,r=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),h=i;for(e=0;e<h;e++)(n=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,a),h=a.length):this._unspiderfyLayer(n)}for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(r.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,o,r=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(n=!0,o=s.length-1;o>=0;o--)if(s[o].layer===r[i]){n=!1;break}n&&t.call(e,r[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(e=(n=this._needsRemoving).length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function n(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,i;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(i=this._needsRemoving[e]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)i=this._needsRemoving[e],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var h,l=t.__parent,u=l._markers;for(this._arraySplice(u,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(h=l._markers[0]===t?l._markers[1]:l._markers[0],i[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(h,s.project(h.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(h),h.__parent=l.__parent,l._icon&&(r.removeLayer(l),n||r.addLayer(h))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(i(o)),this._gridUnclustered[o]=new L.DistanceGrid(i(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i,o=this._gridClusters,r=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){n=this._map.project(t.getLatLng(),e);var a=o[e].getNearObject(n);if(a)return a._addChild(t),void(t.__parent=a);if(a=r[e].getNearObject(n)){var h=a.__parent;h&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var u=l;for(i=e-1;i>h._zoom;i--)u=new this._markerCluster(this,i,u),o[i].addObject(u,this._map.project(a.getLatLng(),i));return h._addChild(u),void this._removeFromGridUnclustered(a,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),o=0;for(e=e||[];o<i.length;o++)(n=i[o])instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,r,function(r){var s,a=r._latlng,h=r._markers;for(i.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,i)),n=h.length-1;n>=0;n--)s=h[n],i.contains(s._latlng)||o.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,r,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(i,o,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(i,n,o,function(t){t._recursivelyRemoveChildrenFromMap(i,o,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)e&&this._markers[i].__dragStart||t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),i=this._group._map,o=i.getBoundsZoom(this._bounds),r=this._zoom+1,s=i.getZoom();n.length>0&&o>r;){r++;var a=[];for(e=0;e<n.length;e++)a=a.concat(n[e]._childClusters);n=a}o>r?this._group._map.setView(this._latlng,r):o<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,o=this._markers,r=this._childClusters,s=0,a=0,h=this._childCount;if(0!==h){for(this._resetBounds(),t=0;t<o.length;t++)n=o[t]._latlng,this._bounds.extend(n),s+=n.lat,a+=n.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,s+=n.lat*i,a+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(s/h,a/h),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,function(t){var n,i,o=t._markers;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,o=t._childClusters;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,i){this._recursively(t,i,e,function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===i?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,n)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,function(i){if(e!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var o,r;this._recursively(t,e-1,n-1,function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,n,i,o){var r,s,a=this._childClusters,h=this._zoom;if(e<=h&&(i&&i(this),o&&h===n&&o(this)),h<e||h<n)for(r=a.length-1;r>=0;r--)(s=a[r])._boundsNeedUpdate&&s._recalculateBounds(),t.intersects(s._bounds)&&s._recursively(t,e,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,r=o[i]=o[i]||{},s=r[n]=r[n]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},h=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=h.length;n<i;n++)if(h[n]===t)return h.splice(n,1),1===i&&delete a[o],!0},eachObject:function(t,e){var n,i,o,r,s,a,h=this._grid;for(n in h)for(i in s=h[n])for(o=0,r=(a=s[i]).length;o<r;o++)t.call(e,a[o])&&(o--,r--)},getNearObject:function(t){var e,n,i,o,r,s,a,h,l=this._getCoord(t.x),u=this._getCoord(t.y),c=this._objectPoint,f=this._sqCellSize,d=null;for(e=u-1;e<=u+1;e++)if(o=this._grid[e])for(n=l-1;n<=l+1;n++)if(r=o[n])for(i=0,s=r.length;i<s;i++)a=r[i],((h=this._sqDist(c[L.Util.stamp(a)],t))<f||h<=f&&null===d)&&(f=h,d=a);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,o,r=0,s=null,a=[];for(n=e.length-1;n>=0;n--)i=e[n],(o=this.getDistant(i,t))>0&&(a.push(i),o>r&&(r=o,s=i));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints)):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,o=!1,r=!1,s=null,a=null,h=null,l=null,u=null,c=null;for(e=t.length-1;e>=0;e--){var f=t[e];(!1===n||f.lat>n)&&(s=f,n=f.lat),(!1===i||f.lat<i)&&(a=f,i=f.lat),(!1===o||f.lng>o)&&(h=f,o=f.lng),(!1===r||f.lng<r)&&(l=f,r=f.lng)}return i!==n?(c=a,u=s):(c=l,u=h),[].concat(this.buildConvexHull([c,u],t),this.buildConvexHull([u,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,n):(n.y+=10,t=this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,s=[];for(o=Math.max(o,35),s.length=t,n=0;n<t;n++)i=this._circleStartAngle+n*r,s[n]=new L.Point(e.x+o*Math.cos(i),e.y+o*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,s=i*this._spiralLengthFactor*this._2PI,a=0,h=[];for(h.length=t,n=t;n>=0;n--)n<t&&(h[n]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round()),o+=s/(a+=r/o+5e-4*n);return h},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,o,r,s=this._group,a=s._map,h=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,n=0;n<t.length;n++)r=a.layerPointToLatLng(e[n]),i=t[n],o=new L.Polyline([this._latlng,r],l),a.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),h.addLayer(i);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,i,o,r,s,a,h=this,l=this._group,u=l._map,c=l._featureGroup,f=this._latlng,d=u.latLngToLayerPoint(f),p=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),_=m.opacity;for(void 0===_&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=_,l._ignoreMove=!0,n=0;n<t.length;n++)i=t[n],a=u.layerPointToLatLng(e[n]),o=new L.Polyline([f,a],m),u.addLayer(o),i._spiderLeg=o,p&&(s=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=s,r.style.strokeDashoffset=s),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),c.addLayer(i),i._setPos&&i._setPos(d);for(l._forceLayout(),l._animationStart(),n=t.length-1;n>=0;n--)a=u.layerPointToLatLng(e[n]),(i=t[n])._preSpiderfyLatlng=i._latlng,i.setLatLng(a),i.clusterShow&&i.clusterShow(),p&&((r=(o=i._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:_}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:h,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,o,r,s,a=this,h=this._group,l=h._map,u=h._featureGroup,c=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),n=f.length-1;n>=0;n--)(e=f[n])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&u.removeLayer(e),d&&(r=(o=(i=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout(function(){var t=0;for(n=f.length-1;n>=0;n--)(e=f[n])._spiderLeg&&t++;for(n=f.length-1;n>=0;n--)(e=f[n])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:a,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=n},"object"===(void 0===gi.exports?"undefined":yi(gi.exports))?ci(gi.exports):"function"==typeof define&&define.amd?define(["exports"],ci):ci((this.Leaflet=this.Leaflet||{},this.Leaflet.markercluster=this.Leaflet.markercluster||{})),gi=gi.exports;var bi,wi={exports:{}},xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};bi=function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function a(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function h(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function l(){return!1}function u(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return c(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function _(t,e){return t.replace(m,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||b("RequestAnimationFrame")||x,C=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function A(t,e,n){if(!n||E!==x)return E.call(window,o(t,e));t.call(e)}function S(t){t&&C.call(window,t)}var P=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:o,lastId:r,stamp:s,throttle:a,wrapNum:h,falseFn:l,formatNum:u,trim:c,splitWords:f,setOptions:d,getParamString:p,template:_,isArray:v,indexOf:g,emptyImageUrl:y,requestFn:E,cancelFn:C,requestAnimFrame:A,cancelAnimFrame:S});function k(){}k.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var s in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=n(i(r.options),t.options)),n(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},k.include=function(t){return n(this.prototype,t),this},k.mergeOptions=function(t){return n(this.prototype.options,t),this},k.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if("object"===(void 0===t?"undefined":xi(t)))for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"===(void 0===t?"undefined":xi(t)))for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=l;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var h=r[s];h.fn.call(h.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===(void 0===t?"undefined":xi(t))){for(var i in t)this.once(i,t[i],e);return this}var r=o(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var M=k.extend(T);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof O?t:v(t)?new O(t[0],t[1]):null==t?t:"object"===(void 0===t?"undefined":xi(t))&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function N(t,e){return!t||t instanceof B?t:new B(t,e)}function R(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof R?t:new R(t,e)}function Z(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function D(t,e,n){return t instanceof Z?t:v(t)&&"object"!==xi(t[0])?3===t.length?new Z(t[0],t[1],t[2]):2===t.length?new Z(t[0],t[1]):null:null==t?t:"object"===(void 0===t?"undefined":xi(t))&&"lat"in t?new Z(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new Z(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},B.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new O(this.min.x,this.max.y)},getTopRight:function(){return new O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof O?I(t):N(t))instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=N(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=N(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},R.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof Z)e=t,n=t;else{if(!(t instanceof R))return t?this.extend(D(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new Z(e.lat,e.lng),this._northEast=new Z(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new R(new Z(e.lat-i,e.lng-o),new Z(n.lat+i,n.lng+o))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof Z||"lat"in t?D(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof R?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},Z.prototype={equals:function(t,e){return!!t&&(t=D(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,D(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};var U,F={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new B(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?h(t.lng,this.wrapLng,!0):t.lng;return new Z(this.wrapLat?h(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new R(new Z(r.lat-i,r.lng-o),new Z(s.lat-i,s.lng-o))}},H=n({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),G={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new O(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new Z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(U=6378137*Math.PI,new B([-U,-U],[U,U]))};function V(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function q(t,e,n,i){return new V(t,e,n,i)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var W,Y=n({},H,{code:"EPSG:3857",projection:G,transformation:(W=.5/(Math.PI*G.R),q(W,.5,-W,.5))}),X=n({},Y,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t,e){var n,i,o,r,s,a,h="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)h+=(i?"L":"M")+(a=s[i]).x+" "+a.y;h+=e?Pt?"z":"x":""}return h||"M0 0"}var J=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Tt("webkit"),it=Tt("android"),ot=Tt("android 2")||Tt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&Tt("Google")&&rt<537&&!("AudioNode"in window),at=!!window.opera,ht=Tt("chrome"),lt=Tt("gecko")&&!nt&&!at&&!Q,ut=!ht&&Tt("safari"),ct=Tt("phantom"),ft="OTransition"in J,dt=0===navigator.platform.indexOf("Win"),pt=Q&&"transition"in J,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,_t="MozPerspective"in J,vt=!window.L_DISABLE_3D&&(pt||mt||_t)&&!ft&&!ct,gt="undefined"!=typeof orientation||Tt("mobile"),yt=gt&&nt,bt=gt&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!wt),Lt=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Et=gt&&at,Ct=gt&&lt,At=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!K("svg").createSVGRect),kt=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===xi(e.adj)}catch(Do){return!1}}();function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Mt=(Object.freeze||Object)({ie:Q,ielt9:tt,edge:et,webkit:nt,android:it,android23:ot,androidStock:st,opera:at,chrome:ht,gecko:lt,safari:ut,phantom:ct,opera12:ft,win:dt,ie3d:pt,webkit3d:mt,gecko3d:_t,any3d:vt,mobile:gt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:Lt,mobileOpera:Et,mobileGecko:Ct,retina:At,canvas:St,svg:Pt,vml:kt}),Ot=wt?"MSPointerDown":"pointerdown",zt=wt?"MSPointerMove":"pointermove",It=wt?"MSPointerUp":"pointerup",Bt=wt?"MSPointerCancel":"pointercancel",Nt=["INPUT","SELECT","OPTION"],Rt={},jt=!1,Zt=0;function Dt(t){Rt[t.pointerId]=t,Zt++}function Ut(t){Rt[t.pointerId]&&(Rt[t.pointerId]=t)}function Ft(t){delete Rt[t.pointerId],Zt--}function Ht(t,e){for(var n in t.touches=[],Rt)t.touches.push(Rt[n]);t.changedTouches=[t],e(t)}var Gt=wt?"MSPointerDown":xt?"pointerdown":"touchstart",Vt=wt?"MSPointerUp":xt?"pointerup":"touchend",qt="_leaflet_";function Wt(t,e,n){var i,o,r=!1,s=250;function a(t){var e;if(xt){if(!et||"mouse"===t.pointerType)return;e=Zt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);o=t.touches?t.touches[0]:t,r=a>0&&a<=s,i=n}}function h(t){if(r&&!o.cancelBubble){if(xt){if(!et||"mouse"===t.pointerType)return;var n,s,a={};for(s in o)n=o[s],a[s]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",e(o),i=null}}return t[qt+Gt+n]=a,t[qt+Vt+n]=h,t[qt+"dblclick"+n]=e,t.addEventListener(Gt,a,!1),t.addEventListener(Vt,h,!1),t.addEventListener("dblclick",e,!1),this}function Yt(t,e){var n=t[qt+Gt+e],i=t[qt+Vt+e],o=t[qt+"dblclick"+e];return t.removeEventListener(Gt,n,!1),t.removeEventListener(Vt,i,!1),et||t.removeEventListener("dblclick",o,!1),this}var Xt,Kt,$t,Jt,Qt,te=_e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=_e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function oe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function re(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function he(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ue(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ce(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!ue(t,e)){var r=pe(t);de(t,(r?r+" ":"")+e)}}function fe(t,e){void 0!==t.classList?t.classList.remove(e):de(t,c((" "+pe(t)+" ").replace(" "+e+" "," ")))}function de(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(Do){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function _e(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ve(t,e,n){var i=e||new O(0,0);t.style[te]=(pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ge(t,e){t._leaflet_pos=e,vt?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)Xt=function(){Pe(window,"selectstart",Ne)},Kt=function(){Te(window,"selectstart",Ne)};else{var be=_e(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(be){var t=document.documentElement.style;$t=t[be],t[be]="none"}},Kt=function(){be&&(document.documentElement.style[be]=$t,$t=void 0)}}function we(){Pe(window,"dragstart",Ne)}function xe(){Te(window,"dragstart",Ne)}function Le(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ee(),Jt=t,Qt=t.style.outline,t.style.outline="none",Pe(window,"keydown",Ee))}function Ee(){Jt&&(Jt.style.outline=Qt,Jt=void 0,Qt=void 0,Te(window,"keydown",Ee))}function Ce(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ae(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Se=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:ie,getStyle:oe,create:re,remove:se,empty:ae,toFront:he,toBack:le,hasClass:ue,addClass:ce,removeClass:fe,setClass:de,getClass:pe,setOpacity:me,testProp:_e,setTransform:ve,setPosition:ge,getPosition:ye,disableTextSelection:Xt,enableTextSelection:Kt,disableImageDrag:we,enableImageDrag:xe,preventOutline:Le,restoreOutline:Ee,getSizedParentNode:Ce,getScale:Ae});function Pe(t,e,n,i){if("object"===(void 0===e?"undefined":xi(e)))for(var o in e)Me(t,o,e[o],n);else for(var r=0,s=(e=f(e)).length;r<s;r++)Me(t,e[r],n,i);return this}var ke="_leaflet_events";function Te(t,e,n,i){if("object"===(void 0===e?"undefined":xi(e)))for(var o in e)Oe(t,o,e[o],n);else if(e)for(var r=0,s=(e=f(e)).length;r<s;r++)Oe(t,e[r],n,i);else{for(var a in t[ke])Oe(t,a,t[ke][a]);delete t[ke]}return this}function Me(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[ke]&&t[ke][r])return this;var a=function(e){return n.call(i||t,e||window.event)},h=a;xt&&0===e.indexOf("touch")?function(t,e,n,i){"touchstart"===e?function(t,e,n){var i=o(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Nt.indexOf(t.target.tagName)<0))return;Ne(t)}Ht(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(Ot,i,!1),jt||(document.documentElement.addEventListener(Ot,Dt,!0),document.documentElement.addEventListener(zt,Ut,!0),document.documentElement.addEventListener(It,Ft,!0),document.documentElement.addEventListener(Bt,Ft,!0),jt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Ht(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(zt,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){Ht(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(It,i,!1),t.addEventListener(Bt,i,!1)}(t,n,i)}(t,e,a,r):!Lt||"dblclick"!==e||!Wt||xt&&ht?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,Ve(t,e)&&h(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&it&&(a=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ue&&n-Ue;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?Re(t):(Ue=n,e(t))}(t,h)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):Wt(t,a,r),t[ke]=t[ke]||{},t[ke][r]=a}function Oe(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):""),r=t[ke]&&t[ke][o];if(!r)return this;xt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Ot,i,!1):"touchmove"===e?t.removeEventListener(zt,i,!1):"touchend"===e&&(t.removeEventListener(It,i,!1),t.removeEventListener(Bt,i,!1))}(t,e,o):!Lt||"dblclick"!==e||!Yt||xt&&ht?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):Yt(t,o),t[ke][o]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ge(t),this}function Ie(t){return Me(t,"mousewheel",ze),this}function Be(t){return Pe(t,"mousedown touchstart dblclick",ze),Me(t,"click",He),this}function Ne(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Re(t){return Ne(t),ze(t),this}function je(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Ae(e),i=n.boundingClientRect;return new O((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ze=dt&&ht?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function De(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ue,Fe={};function He(t){Fe[t.type]=!0}function Ge(t){var e=Fe[t.type];return Fe[t.type]=!1,e}function Ve(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(Uo){return!1}return n!==t}var qe=(Object.freeze||Object)({on:Pe,off:Te,stopPropagation:ze,disableScrollPropagation:Ie,disableClickPropagation:Be,preventDefault:Ne,stop:Re,getMousePosition:je,getWheelDelta:De,fakeStop:He,skipped:Ge,isExternalTarget:Ve,addListener:Pe,removeListener:Te}),We=M.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ge(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=M.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(D(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ee&&vt&&!Et&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(D(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new We,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ce(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!vt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=D(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),h=a*this.getZoomScale(s,e),l=o.distanceTo(i)||1,u=1.42,c=u*u;function f(t){var e=(h*h-a*a+(t?-1:1)*c*c*l*l)/(2*(t?h:a)*c*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var m=f(0);var _=Date.now(),v=(f(1)-m)/u,g=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-_)/g,h=function(t){return 1-Math.pow(1-t,1.5)}(r)*v;r<=1?(this._flyToFrame=A(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(function(t){return a*(p(m)*(d(e=m+u*t)/p(e))-d(m))/c;var e}(h)/l)),s),this.getScaleZoom(a/function(t){return a*(p(m)/p(m+u*t))}(h),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),s=i.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new Z(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(Do){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=re("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new R(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=I(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(n),l=N(this.project(a,i),this.project(s,i)).getSize(),u=vt?this.options.zoomSnap:1,c=h.x/l.x,f=h.y/l.y,d=e?Math.max(c,f):Math.min(c,f);return i=this.getScaleZoom(d,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(D(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(D(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(D(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(D(t),D(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(t)))},mouseEventToContainerPoint:function(t){return je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Pe(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,ce(t,"leaflet-container"+(Lt?" leaflet-touch":"")+(At?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=oe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ce(t.markerPane,"leaflet-zoom-hide"),ce(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ge(this._mapPane,new O(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Te:Pe;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=A(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!Ve(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!Ve(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Ge(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Le(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var r=i[0];"contextmenu"===e&&r.listens(e,!0)&&Ne(t);var s={originalEvent:t};if("keypress"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var h=0;h<i.length;h++)if(i[h].fire(e,s,!0),s.originalEvent._stopped||!1===i[h].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return N([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new B(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=N(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new O(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=vt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(A(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),A(function(){this._moveEnd(!0)},this))}}),Xe=k.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ce(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ke=function(t){return new Xe(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=re("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=re("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $e=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ce(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ce(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):fe(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=re("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Be(e),Ie(e);var i=this._form=re("form",t+"-list");n&&(this._map.on("click",this.collapse,this),it||Pe(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=re("a",t+"-toggle",e);o.href="#",o.title="Layers",Lt?(Pe(o,"click",Re),Pe(o,"click",this.expand,this)):Pe(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=re("div",t+"-base",i),this._separator=re("div",t+"-separator",i),this._overlaysList=re("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ae(this._baseLayersList),ae(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Pe(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=re("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=re("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Be(r),Pe(r,"click",Re),Pe(r,"click",o,this),Pe(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";fe(this._zoomInButton,e),fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ce(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ce(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Qe=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=re("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=re("div",e,n)),t.imperial&&(this._iScale=re("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Xe.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=re("div","leaflet-control-attribution"),Be(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)}),Xe.Layers=$e,Xe.Zoom=Je,Xe.Scale=Qe,Xe.Attribution=tn,Ke.layers=function(t,e,n){return new $e(t,e,n)},Ke.zoom=function(t){return new Je(t)},Ke.scale=function(t){return new Qe(t)},Ke.attribution=function(t){return new tn(t)};var en=k.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,on={Events:T},rn=Lt?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},an={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},hn=M.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Pe(this._dragStartTarget,rn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hn._dragging===this&&this.finishDrag(),Te(this._dragStartTarget,rn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ue(this._element,"leaflet-zoom-anim")&&!(hn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(hn._dragging=this,this._preventOutline&&Le(this._element),we(),Xt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ce(this._element);this._startPoint=new O(e.clientX,e.clientY),this._parentScale=Ae(n),Pe(document,an[t.type],this._onMove,this),Pe(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ne(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ye(this._element).subtract(n),ce(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=A(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an)Te(document,an[t],this._onMove,this),Te(document,sn[t],this._onUp,this);xe(),Kt(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,hn._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(("undefined"==typeof Uint8Array?"undefined":xi(Uint8Array))!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,o,r){var s,a,h,l=0;for(a=o+1;a<=r-1;a++)(h=pn(e[a],e[o],e[r],!0))>l&&(s=a,l=h);l>i&&(n[s]=1,t(e,n,i,o,s),t(e,n,i,s,r))}(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)s=t[i],void 0,void 0,(h=(a=t[o]).x-s.x)*h+(l=a.y-s.y)*l>e&&(n.push(t[i]),o=i);var s,a,h,l;return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function un(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function cn(t,e,n,i,o){var r,s,a,h=i?nn:dn(t,n),l=dn(e,n);for(nn=l;;){if(!(h|l))return[t,e];if(h&l)return!1;a=dn(s=fn(t,e,r=h||l,n,o),n),r===h?(t=s,h=a):(e=s,l=a)}}function fn(t,e,n,i,o){var r,s,a=e.x-t.x,h=e.y-t.y,l=i.min,u=i.max;return 8&n?(r=t.x+a*(u.y-t.y)/h,s=u.y):4&n?(r=t.x+a*(l.y-t.y)/h,s=l.y):2&n?(r=u.x,s=t.y+h*(u.x-t.x)/a):1&n&&(r=l.x,s=t.y+h*(l.x-t.x)/a),new O(r,s,o)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,h=n.y-s,l=a*a+h*h;return l>0&&((o=((t.x-r)*a+(t.y-s)*h)/l)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=h*o)),a=t.x-r,h=t.y-s,i?a*a+h*h:new O(r,s)}function mn(t){return!v(t[0])||"object"!==xi(t[0][0])&&void 0!==t[0][0]}function _n(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var vn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:un,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:cn,_getEdgeIntersection:fn,_getBitCode:dn,_sqClosestPointOnSegment:pn,isFlat:mn,_flat:_n});function gn(t,e,n){var i,o,r,s,a,h,l,u,c,f=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=dn(t[o],e);for(s=0;s<4;s++){for(u=f[s],i=[],o=0,r=(l=t.length)-1;o<l;r=o++)a=t[o],h=t[r],a._code&u?h._code&u||((c=fn(h,a,u,e,n))._code=dn(c,e),i.push(c)):(h._code&u&&((c=fn(h,a,u,e,n))._code=dn(c,e),i.push(c)),i.push(a));t=i}return t}var yn=(Object.freeze||Object)({clipPolygon:gn}),bn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new Z(t.y,t.x)},bounds:new B([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),h=0,l=.1;h<15&&Math.abs(l)>1e-7;h++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new Z(a*n,t.x*n/i)}},xn=(Object.freeze||Object)({LonLat:bn,Mercator:wn,SphericalMercator:G}),Ln=n({},H,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return q(t,.5,-t,.5)}()}),En=n({},H,{code:"EPSG:4326",projection:bn,transformation:q(1/180,1,-1/180,.5)}),Cn=n({},F,{projection:bn,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});F.Earth=H,F.EPSG3395=Ln,F.EPSG3857=Y,F.EPSG900913=X,F.EPSG4326=En,F.Simple=Cn;var An=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=An.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Pn=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new R;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),kn=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=I(i),r=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return At&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Tn=kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Tn.imagePath||(Tn.imagePath=this._detectIconPath()),(this.options.imagePath||Tn.imagePath)+kn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=re("div","leaflet-default-icon-path",document.body),e=oe(t,"background-image")||oe(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Mn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new hn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ce(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=ye(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),h=N(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!h.contains(r)){var l=I((Math.max(h.max.x,r.x)-h.max.x)/(s.max.x-h.max.x)-(Math.min(h.min.x,r.x)-h.min.x)/(s.min.x-h.min.x),(Math.max(h.max.y,r.y)-h.max.y)/(s.max.y-h.max.y)-(Math.min(h.min.y,r.y)-h.min.y)/(s.min.y-h.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ge(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=A(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),o=e._map.layerPointToLatLng(i);n&&ge(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),On=An.extend({options:{icon:new Tn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=D(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ce(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ce(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),zn=An.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),In=zn.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=D(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=D(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return zn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Bn=In.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=D(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:zn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var o=Math.PI/180,r=this._mRadius/H.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),h=s.add(a).divideBy(2),l=n.unproject(h).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=h.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:h.x-n.project([l,t-u]).x,this._radiusY=h.y-s.y}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),Nn=zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=pn,s=0,a=this._parts.length;s<a;s++)for(var h=this._parts[s],l=1,u=h.length;l<u;l++){var c=r(t,e=h[l-1],n=h[l],!0);c<i&&(i=c,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,e=0;t<h-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<h-1;t++)if(o=a[t],r=a[t+1],(i+=n=o.distanceTo(r))>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=D(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new R,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),i=0,o=t.length;i<o;i++)n?(e[i]=D(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new O(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof Z,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,h=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=cn(a[n],a[n+1],t,n,!0))&&(h[i]=h[i]||[],h[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(h[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&un(t,a[o],a[i])<=h)return!0;return!1}});Nn._flat=_n;var Rn=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,h,l=this._rings[0],u=l.length;if(!u)return null;for(r=s=a=0,t=0,e=u-1;t<u;e=t++)n=l[t],i=l[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return h=0===r?l[0]:[s/r,a/r],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var e=Nn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof Z&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Nn.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=gn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,h,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(h=(e=this._parts[o]).length)-1;r<h;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||Nn.prototype._containsPoint.call(this,t,!0)}}),jn=Pn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Zn(t,r);return s?(s.feature=Vn(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Zn(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,h=[],l=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Dn;if(!a&&!s)return null;switch(s.type){case"Point":return n=u(a),l?l(t,n):new On(n);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=u(a[o]),h.push(l?l(t,n):new On(n));return new Pn(h);case"LineString":case"MultiLineString":return i=Un(a,"LineString"===s.type?0:1,u),new Nn(i,e);case"Polygon":case"MultiPolygon":return i=Un(a,"Polygon"===s.type?1:2,u),new Rn(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var c=Zn({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);c&&h.push(c)}return new Pn(h);default:throw new Error("Invalid GeoJSON object.")}}function Dn(t){return new Z(t[1],t[0],t[2])}function Un(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?Un(t[r],e-1,n):(n||Dn)(t[r]),o.push(i);return o}function Fn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function Hn(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?Hn(t[r],e-1,n,i):Fn(t[r],i));return!e&&n&&o.push(o[0]),o}function Gn(t,e){return t.feature?n({},t.feature,{geometry:e}):Vn(e)}function Vn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qn={toGeoJSON:function(t){return Gn(this,{type:"Point",coordinates:Fn(this.getLatLng(),t)})}};function Wn(t,e){return new jn(t,e)}On.include(qn),Bn.include(qn),In.include(qn),Nn.include({toGeoJSON:function(t){var e=!mn(this._latlngs);return Gn(this,{type:(e?"Multi":"")+"LineString",coordinates:Hn(this._latlngs,e?1:0,!1,t)})}}),Rn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),i=Hn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Gn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Sn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Gn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=Vn(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}}),n?Gn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Yn=Wn,Xn=An.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:re("img");ce(e,"leaflet-image-layer"),this._zoomAnimated&&ce(e,"leaflet-zoom-animated"),this.options.className&&ce(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ge(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Kn=Xn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:re("video");if(ce(e,"leaflet-image-layer"),this._zoomAnimated&&ce(e,"leaflet-zoom-animated"),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=re("source");a.src=this._url[s],e.appendChild(a)}}}}),$n=An.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(o(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=D(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Jn=$n.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){$n.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zn||this._source.on("preclick",ze))},onRemove:function(t){$n.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zn||this._source.off("preclick",ze))},getEvents:function(){var t=$n.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=re("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=re("div",t+"-content-wrapper",e);if(this._contentNode=re("div",t+"-content",n),Be(n),Ie(this._contentNode),Pe(n,"contextmenu",ze),this._tipContainer=re("div",t+"-tip-container",e),this._tip=re("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=re("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Pe(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight;o&&i>o?(e.height=o+"px",ce(t,"leaflet-popup-scrolled")):fe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ge(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(oe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new O(this._containerLeft,-n-this._containerBottom);o._add(ye(this._container));var r=t.layerPointToContainerPoint(o),s=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||s),h=I(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),u=0,c=0;r.x+i+h.x>l.x&&(u=r.x+i-l.x+h.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+n+h.y>l.y&&(c=r.y+n-l.y+h.y),r.y-c-a.y<0&&(c=r.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),Re(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof Jn||(t=new Jn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),An.include({bindPopup:function(t,e){return t instanceof Jn?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Jn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof An||(e=t,t=this),t instanceof Pn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Re(t),e instanceof zn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Qn=$n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){$n.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){$n.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=$n.prototype.getEvents.call(this);return Lt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,h=I(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(I(-s/2+h.x,-a+h.y+l.y,!0)):"bottom"===r?t=t.subtract(I(s/2-h.x,-h.y,!0)):"center"===r?t=t.subtract(I(s/2+h.x,a/2-l.y+h.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(I(h.x+l.x,l.y-a/2+h.y,!0))):(r="left",t=t.subtract(I(s+l.x-h.x,a/2-l.y-h.y,!0))),fe(n,"leaflet-tooltip-right"),fe(n,"leaflet-tooltip-left"),fe(n,"leaflet-tooltip-top"),fe(n,"leaflet-tooltip-bottom"),ce(n,"leaflet-tooltip-"+r),ge(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof Qn||(t=new Qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),An.include({bindTooltip:function(t,e){return t instanceof Qn?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Qn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Lt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof An||(e=t,t=this),t instanceof Pn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ti=kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});kn.Default=Tn;var ei=An.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);me(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new O(+o,+r);a.z=+s;var h=this._tileCoordsToKey(a),l=this._tiles[h];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new O(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?ve(t.el,o,i):ge(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new B(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,h=new B(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var u=this._tiles[l].coords;u.z===this._tileZoom&&h.contains(new O(u.x,u.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var c=o.min.y;c<=o.max.y;c++)for(var f=o.min.x;f<=o.max.x;f++){var d=new O(f,c);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:s.push(d)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new R(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ce(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,tt&&this.options.opacity<1&&me(t,this.options.opacity),it&&!ot&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&A(o(this._tileReady,this,t,null,r)),ge(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),S(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ce(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?h(t.x,this._wrapX):t.x,this._wrapY?h(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ni=ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&At&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Pe(n,"load",o(this._tileOnLoad,this,e,n)),Pe(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:At?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=y,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",y),ei.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ei.prototype._tileReady.call(this,t,e,n)}});function ii(t,e){return new ni(t,e)}var oi=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=d(this,e)).detectRetina&&At?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ni.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=N(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===En?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=ni.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ni.WMS=oi,ii.wms=function(t,e){return new oi(t,e)};var ri=An.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ye(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-n).add(i).add(o).subtract(s);vt?ve(this._container,a,n):ge(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),si=ri.extend({getEvents:function(){var t=ri.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Pe(t,"mousemove",a(this._onMouseMove,32,this),this),Pe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,se(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ri.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=At?2:1;ge(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",At&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete this._drawnLayers[t._leaflet_id],delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n=t.options.dashArray.split(/[, ]+/),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,h=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,h.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],h[i?"lineTo":"moveTo"](r.x,r.y);e&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(He(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(fe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ce(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}});function ai(t){return St?new si(t):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(Do){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),li={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hi("shape");ce(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=hi("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=hi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){he(t._container)},_bringToBack:function(t){le(t._container)}},ui=kt?hi:K,ci=ri.extend({getEvents:function(){var t=ri.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ri.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ge(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ui("path");t.options.className&&ce(e,t.options.className),t.options.interactive&&ce(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,$(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){he(t._path)},_bringToBack:function(t){le(t._path)}});function fi(t){return Pt||kt?new ci(t):null}kt&&ci.include(li),Ye.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ai(t)||fi(t)}});var di=Rn.extend({initialize:function(t,e){Rn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ci.create=ui,ci.pointsToPath=$,jn.geometryToLayer=Zn,jn.coordsToLatLng=Dn,jn.coordsToLatLngs=Un,jn.latLngToCoords=Fn,jn.latLngsToCoords=Hn,jn.getFeature=Gn,jn.asFeature=Vn,Ye.mergeOptions({boxZoom:!0});var pi=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Pe(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();ge(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),fe(this._container,"leaflet-crosshair")),Kt(),xe(),Te(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook("addHandler","boxZoom",pi),Ye.mergeOptions({doubleClickZoom:!0});var mi=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ye.addInitHook("addHandler","doubleClickZoom",mi),Ye.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _i=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new hn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=N(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),h=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,h),u=a.multiplyBy(l/h),c=l/(n.inertiaDeceleration*s),f=u.multiplyBy(-c/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),A(function(){e.panBy(f,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ye.addInitHook("addHandler","dragging",_i),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Pe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Re(t)}}});Ye.addInitHook("addHandler","keyboard",vi),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gi=en.extend({addHooks:function(){Pe(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=De(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),Re(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ye.addInitHook("addHandler","scrollWheelZoom",gi),Ye.mergeOptions({tap:!0,tapTolerance:15});var yi=en.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ne(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new O(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ce(n,"leaflet-active"),this._holdTimeout=setTimeout(o(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Pe(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Te(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Lt&&!xt&&Ye.addInitHook("addHandler","tap",yi),Ye.mergeOptions({touchZoom:Lt&&!ot,bounceAtZoomLimits:!0});var bi=en.extend({addHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend",this._onTouchEnd,this),Ne(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=A(a,this,!0),Ne(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Te(document,"touchmove",this._onTouchMove),Te(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook("addHandler","touchZoom",bi),Ye.BoxZoom=pi,Ye.DoubleClickZoom=mi,Ye.Drag=_i,Ye.Keyboard=vi,Ye.ScrollWheelZoom=gi,Ye.Tap=yi,Ye.TouchZoom=bi,Object.freeze=e,t.version="1.3.4",t.Control=Xe,t.control=Ke,t.Browser=Mt,t.Evented=M,t.Mixin=on,t.Util=P,t.Class=k,t.Handler=en,t.extend=n,t.bind=o,t.stamp=s,t.setOptions=d,t.DomEvent=qe,t.DomUtil=Se,t.PosAnimation=We,t.Draggable=hn,t.LineUtil=vn,t.PolyUtil=yn,t.Point=O,t.point=I,t.Bounds=B,t.bounds=N,t.Transformation=V,t.transformation=q,t.Projection=xn,t.LatLng=Z,t.latLng=D,t.LatLngBounds=R,t.latLngBounds=j,t.CRS=F,t.GeoJSON=jn,t.geoJSON=Wn,t.geoJson=Yn,t.Layer=An,t.LayerGroup=Sn,t.layerGroup=function(t,e){return new Sn(t,e)},t.FeatureGroup=Pn,t.featureGroup=function(t){return new Pn(t)},t.ImageOverlay=Xn,t.imageOverlay=function(t,e,n){return new Xn(t,e,n)},t.VideoOverlay=Kn,t.videoOverlay=function(t,e,n){return new Kn(t,e,n)},t.DivOverlay=$n,t.Popup=Jn,t.popup=function(t,e){return new Jn(t,e)},t.Tooltip=Qn,t.tooltip=function(t,e){return new Qn(t,e)},t.Icon=kn,t.icon=function(t){return new kn(t)},t.DivIcon=ti,t.divIcon=function(t){return new ti(t)},t.Marker=On,t.marker=function(t,e){return new On(t,e)},t.TileLayer=ni,t.tileLayer=ii,t.GridLayer=ei,t.gridLayer=function(t){return new ei(t)},t.SVG=ci,t.svg=fi,t.Renderer=ri,t.Canvas=si,t.canvas=ai,t.Path=zn,t.CircleMarker=In,t.circleMarker=function(t,e){return new In(t,e)},t.Circle=Bn,t.circle=function(t,e,n){return new Bn(t,e,n)},t.Polyline=Nn,t.polyline=function(t,e){return new Nn(t,e)},t.Polygon=Rn,t.polygon=function(t,e){return new Rn(t,e)},t.Rectangle=di,t.rectangle=function(t,e){return new di(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var wi=window.L;t.noConflict=function(){return window.L=wi,this},window.L=t},"object"===(void 0===wi.exports?"undefined":xi(wi.exports))?bi(wi.exports):"function"==typeof define&&define.amd?define(["exports"],bi):bi(this.L={}),wi=wi.exports;var Li={};"function"==typeof Symbol&&Symbol.iterator;var Ei={trace:"\ud83d\udd0d",debug:"\ud83d\udc1b",info:"\u2728",warn:"\u26a0\ufe0f",error:"\ud83d\udea8",fatal:"\ud83d\udc80"},Ci={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Ai={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"};function Si(t,e){if(e=e||{},!(this instanceof Si))return new Si(t,e);this._name=t||"",this._colors=Lt(Ai,e.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch(Do){this.logLevel="info"}this._logLevel=Ci[this.logLevel]}function Pi(t){return"color: "+t+";"}function ki(t){return 2!==t.length?0+t:t}Li=Si,Si.prototype.trace=function(){for(var t=["trace"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype.debug=function(){for(var t=["debug"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype.info=function(){for(var t=["info"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype.warn=function(){for(var t=["warn"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype.error=function(){for(var t=["error"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype.fatal=function(){for(var t=["fatal"],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);this._print.apply(this,t)},Si.prototype._print=function(t){if(!(Ci[t]<this._logLevel)){var e,n=ki((e=new Date).getHours().toString())+":"+ki(e.getMinutes().toString())+":"+ki(e.getSeconds().toString()),i=Ei[t],o=this._name||"unknown",r="error"===t||t.fatal?this._colors.red:"warn"===t?this._colors.yellow:this._colors.green,s=[],a=[null],h="%c%s "+i+" %c%s";a.push(Pi(this._colors.brightBlack),n),a.push(Pi(this._colors.magenta),o);for(var l=1,u=arguments.length;l<u;l++){var c=arguments[l];"string"==typeof c?1===l?(h+=" %c%s",a.push(Pi(r)),a.push(c)):/ms$/.test(c)?(h+=" %c%s",a.push(Pi(this._colors.brightBlack)),a.push(c)):(h+=" %c%s",a.push(Pi(this._colors.white)),a.push(c)):"number"==typeof c?(h+=" %c%d",a.push(Pi(this._colors.magenta)),a.push(c)):s.push(c)}a[0]=h,s.forEach(function(t){a.push(t)}),Function.prototype.apply.apply(console.log,[console,a])}},"function"==typeof Symbol&&Symbol.iterator;var Ti="undefined"!=typeof window,Mi=(Ti&&window.requestIdleCallback,function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}());"undefined"!=typeof window&&(window.L=wi);var Oi,zi,Ii=hn,Bi=function(t){function e(t,n,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,o));return r._log=Li("Map"),r.map=null,r.coords=[0,0],r.markerPrecache=[],r.parent={state:n,emit:i},r.next=o.next,r.points=o.points,r.location=o.location||[45.329628,-78.800691],r.zoom=o.zoom||4.5,r.bounds=o.bounds||[[57.121,-96.366],[40.872,-73.424]],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,fi),Mi(e,[{key:"createElement",value:function(){return this._createLoading(),this._createControls(),function(){var t=document.createElement("div");return t.setAttribute("style","min-height: calc(100vh - 48px); width: 100vw;"),t.setAttribute("class","flex w-100 h-100"),sn(t,["\n        ",arguments[0],"\n        ",arguments[1],"\n      "]),t}(this.loading,this.controls.render())}},{key:"_createMap",value:function(t){var e=wi.latLng(this.bounds[0]),n=wi.latLng(this.bounds[1]),i=wi.latLngBounds(e,n),o=wi.map(t,{maxBounds:i,attributionControl:!1,zoomSnap:.5,zoomDelta:.5}).setView(this.location,this.zoom);this.map=o,wi.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:"",maxZoom:18,minZoom:4,id:"mapbox.outdoors",accessToken:"pk.eyJ1IjoiYmxhaGFoIiwiYSI6ImNqbjBnaDZxZTNtdnQza3BubmNvZTlpaWgifQ.ijxL23pYuzWJ0v6WEHVhvg"}).addTo(o);var r=new wi.Icon({iconUrl:"./assets/svg/waterbody.svg",iconAnchor:[12,36],tooltipAnchor:[0,-36],popupAnchor:[0,-36]}),s=wi.markerClusterGroup({iconCreateFunction:function(t){return wi.divIcon({className:"bg-transparent bn",html:(e=t.getChildCount(),'\n\n<svg xmlns="http://www.w3.org/2000/svg" width="35" height="50" transform="translate(-17.5,-25) scale(2 2)">\n  <defs>\n    <linearGradient id="a" x1="50%" x2="50%" y1="62.52%" y2="100%">\n      <stop offset="0%" stop-color="#B4EC51" stop-opacity="0"/>\n      <stop offset="100%" stop-color="#429321"/>\n    </linearGradient>\n  </defs>\n  <g fill="none" fill-rule="evenodd">\n    <g fill="#4A90E2" fill-rule="nonzero" opacity=".854" transform="translate(.463 16.204)">\n      <ellipse cx="16.551" cy="16.898" fill-opacity=".5" rx="16.551" ry="16.898"/>\n      <ellipse cx="16.551" cy="16.782" fill-opacity=".5" rx="12.847" ry="13.079"/>\n      <ellipse cx="16.551" cy="16.782" fill-opacity=".517" rx="9.144" ry="9.375"/>\n    </g>\n    <text fill="#000" font-family="RobotoSlab-Regular, Roboto Slab" font-size="12.458">\n      <tspan x="16.503" y="39.694" text-anchor="middle">'+e+'</tspan>\n    </text>\n    <g fill-rule="nonzero">\n      <path fill="#FFF" d="M8.05 30.429L1.064 18.8a4.285 4.285 0 0 1-.174-.315A8.612 8.612 0 0 1 0 14.679C0 10.031 3.739 6.25 8.333 6.25c4.595 0 8.334 3.781 8.334 8.43 0 1.44-.37 2.87-1.073 4.128l-7.26 12.095-.285-.474z"/>\n      <path fill="#000" d="M8.05 30.429L1.064 18.8a4.285 4.285 0 0 1-.174-.315A8.612 8.612 0 0 1 0 14.679C0 10.031 3.739 6.25 8.333 6.25c4.595 0 8.334 3.781 8.334 8.43 0 1.44-.37 2.87-1.073 4.128l-7.26 12.095-.285-.474zm6.97-11.964A7.8 7.8 0 0 0 16 14.68c0-4.274-3.44-7.753-7.667-7.753S.667 10.406.667 14.68a7.932 7.932 0 0 0 .817 3.497c.067.132.118.222.15.272l6.7 11.155 6.685-11.138z"/>\n      <path fill="url(#a)" d="M15.02 12.215A7.8 7.8 0 0 0 16 8.43C16 4.155 12.56.676 8.333.676S.667 4.156.667 8.43a7.932 7.932 0 0 0 .817 3.497c.067.132.118.222.15.272l6.7 11.155 6.685-11.138z" transform="translate(0 6.25)"/>\n      <path fill="#4A90E2" d="M8.39 7.894c-3.707 0-6.723 3.04-6.723 6.779 0 3.738 3.016 6.78 6.724 6.78 3.707 0 6.723-3.042 6.723-6.78 0-3.738-3.015-6.78-6.723-6.78z"/>\n      <path fill="#000" d="M8.39 7.894c-3.707 0-6.723 3.04-6.723 6.779 0 3.738 3.016 6.78 6.724 6.78 3.707 0 6.723-3.042 6.723-6.78 0-3.738-3.015-6.78-6.723-6.78zm5.136 3.739c-.234-.054-.39-.211-.61-.46-.29-.33-.653-.743-1.364-.743-.711 0-1.073.413-1.364.744-.273.309-.443.484-.794.484-.35 0-.52-.175-.793-.484-.29-.331-.653-.744-1.363-.744-.711 0-1.073.413-1.363.744-.273.309-.443.484-.794.484-.35 0-.522-.175-.793-.484a3.25 3.25 0 0 0-.416-.413 5.926 5.926 0 0 1 4.518-2.1c2.188 0 4.098 1.197 5.136 2.972zm-1.777 4.98c-.73 0-1.106.41-1.408.737-.288.314-.47.492-.85.492s-.562-.178-.85-.492c-.302-.329-.676-.736-1.407-.736-.73 0-1.106.409-1.408.736-.288.313-.47.492-.85.492-.379 0-.56-.178-.849-.492-.174-.19-.373-.407-.651-.555-.1-.07-.401-.264-.78-.335a6.04 6.04 0 0 1-.27-1.788c0-.061.008-.121.01-.181.26.078.437.246.654.458.332.321.744.72 1.531.72.787 0 1.2-.399 1.53-.72.304-.295.524-.507 1.005-.507.48 0 .7.212 1.004.507.331.321.743.72 1.53.72.788 0 1.2-.399 1.532-.72.304-.294.524-.507 1.004-.507s.7.212 1.004.507c.255.247.56.538 1.043.66a6.01 6.01 0 0 1-.74 2.091 2.237 2.237 0 0 1-.375-.349c-.302-.328-.678-.737-1.409-.737zm-8.63.863c.163.087.296.23.45.397.302.328.677.737 1.408.737.73 0 1.106-.409 1.408-.736.288-.313.47-.492.85-.492.379 0 .561.178.849.49.302.33.677.738 1.407.738s1.106-.409 1.408-.736c.288-.314.47-.492.85-.492.381 0 .563.178.851.492.145.157.307.324.51.462-1.091 1.424-2.798 2.349-4.72 2.349-2.283 0-4.27-1.302-5.27-3.21zm10.64-3.08c-.332-.321-.745-.72-1.532-.72-.788 0-1.2.399-1.532.72-.304.294-.524.507-1.004.507s-.7-.212-1.004-.507c-.332-.321-.744-.72-1.531-.72-.787 0-1.199.399-1.53.72-.304.294-.524.507-1.005.507-.48 0-.699-.212-1.004-.507-.265-.258-.587-.562-1.108-.674a6.016 6.016 0 0 1 .902-2.35c.104.085.2.191.305.31.29.331.653.744 1.363.744.712 0 1.073-.413 1.363-.744.273-.31.443-.484.794-.484.35 0 .522.175.793.484.29.331.653.744 1.363.744.711 0 1.073-.413 1.365-.744.272-.31.442-.484.794-.484.35 0 .522.175.795.484.29.331.653.744 1.364.744h.207c.278.695.436 1.452.436 2.247 0 .054-.006.106-.007.158-.223-.085-.388-.242-.587-.435z"/>\n    </g>\n    <g fill-rule="nonzero">\n      <path fill="#FFF" d="M25.41 30.429L18.426 18.8a4.285 4.285 0 0 1-.174-.315 8.612 8.612 0 0 1-.891-3.807c0-4.648 3.739-8.429 8.333-8.429 4.595 0 8.334 3.781 8.334 8.43 0 1.44-.37 2.87-1.073 4.128l-7.26 12.095-.285-.474z"/>\n      <path fill="#000" d="M25.41 30.429L18.426 18.8a4.285 4.285 0 0 1-.174-.315 8.612 8.612 0 0 1-.891-3.807c0-4.648 3.739-8.429 8.333-8.429 4.595 0 8.334 3.781 8.334 8.43 0 1.44-.37 2.87-1.073 4.128l-7.26 12.095-.285-.474zm6.97-11.964a7.8 7.8 0 0 0 .981-3.786c0-4.274-3.44-7.753-7.667-7.753s-7.666 3.48-7.666 7.753a7.932 7.932 0 0 0 .817 3.497c.067.132.118.222.15.272l6.7 11.155 6.685-11.138z"/>\n      <path fill="url(#a)" d="M15.02 12.215A7.8 7.8 0 0 0 16 8.43C16 4.155 12.56.676 8.333.676S.667 4.156.667 8.43a7.932 7.932 0 0 0 .817 3.497c.067.132.118.222.15.272l6.7 11.155 6.685-11.138z" transform="translate(17.361 6.25)"/>\n      <path fill="#4A90E2" d="M25.752 7.894c-3.708 0-6.724 3.04-6.724 6.779 0 3.738 3.016 6.78 6.724 6.78 3.707 0 6.723-3.042 6.723-6.78 0-3.738-3.015-6.78-6.723-6.78z"/>\n      <path fill="#000" d="M25.752 7.894c-3.708 0-6.724 3.04-6.724 6.779 0 3.738 3.016 6.78 6.724 6.78 3.707 0 6.723-3.042 6.723-6.78 0-3.738-3.015-6.78-6.723-6.78zm5.136 3.739c-.235-.054-.392-.211-.61-.46-.29-.33-.654-.743-1.365-.743s-1.073.413-1.364.744c-.273.309-.443.484-.794.484-.35 0-.52-.175-.793-.484-.29-.331-.653-.744-1.363-.744-.711 0-1.073.413-1.363.744-.273.309-.443.484-.793.484-.351 0-.523-.175-.794-.484a3.25 3.25 0 0 0-.416-.413 5.926 5.926 0 0 1 4.519-2.1c2.187 0 4.097 1.197 5.136 2.972zm-1.777 4.98c-.73 0-1.107.41-1.409.737-.288.314-.47.492-.85.492s-.562-.178-.85-.492c-.302-.329-.676-.736-1.407-.736-.73 0-1.106.409-1.408.736-.288.313-.47.492-.85.492-.379 0-.56-.178-.848-.492-.175-.19-.374-.407-.652-.555-.099-.07-.401-.264-.78-.335a6.04 6.04 0 0 1-.27-1.788c0-.061.008-.121.01-.181.26.078.437.246.654.458.332.321.744.72 1.531.72.788 0 1.2-.399 1.531-.72.303-.295.523-.507 1.004-.507.48 0 .7.212 1.004.507.332.321.743.72 1.53.72.788 0 1.2-.399 1.533-.72.303-.294.523-.507 1.003-.507.48 0 .701.212 1.004.507.255.247.56.538 1.043.66a6.01 6.01 0 0 1-.74 2.091 2.237 2.237 0 0 1-.375-.349c-.302-.328-.678-.737-1.408-.737zm-8.63.863c.162.087.295.23.449.397.302.328.677.737 1.408.737.73 0 1.106-.409 1.408-.736.288-.313.47-.492.85-.492s.561.178.849.49c.302.33.677.738 1.407.738s1.106-.409 1.408-.736c.288-.314.47-.492.85-.492.381 0 .563.178.851.492.145.157.307.324.51.462-1.091 1.424-2.798 2.349-4.72 2.349-2.283 0-4.27-1.302-5.27-3.21zm10.639-3.08c-.332-.321-.745-.72-1.532-.72-.788 0-1.2.399-1.532.72-.304.294-.524.507-1.004.507s-.7-.212-1.004-.507c-.332-.321-.743-.72-1.53-.72-.788 0-1.2.399-1.532.72-.303.294-.523.507-1.004.507-.48 0-.699-.212-1.003-.507-.266-.258-.588-.562-1.109-.674a6.016 6.016 0 0 1 .902-2.35c.104.085.2.191.305.31.29.331.653.744 1.363.744.712 0 1.073-.413 1.364-.744.272-.31.442-.484.793-.484.35 0 .522.175.793.484.29.331.653.744 1.363.744.712 0 1.073-.413 1.365-.744.272-.31.442-.484.794-.484.351 0 .522.175.795.484.29.331.653.744 1.364.744h.207c.278.695.436 1.452.436 2.247 0 .054-.005.106-.007.158-.223-.085-.387-.242-.587-.435z"/>\n    </g>\n    <g fill-rule="nonzero">\n      <path fill="#FFF" d="M16.862 27.925l-8.003-13.43a4.96 4.96 0 0 1-.199-.363 8.935 8.935 0 0 1-.415-.97 10.016 10.016 0 0 1-.606-3.427C7.639 4.367 11.923 0 17.187 0c5.265 0 9.55 4.367 9.55 9.735a9.869 9.869 0 0 1-1.23 4.768l-8.319 13.97-.326-.548z"/>\n      <path fill="#000" d="M16.862 27.925l-8.003-13.43a4.96 4.96 0 0 1-.199-.363 8.935 8.935 0 0 1-.415-.97 10.016 10.016 0 0 1-.606-3.427C7.639 4.367 11.923 0 17.187 0c5.265 0 9.55 4.367 9.55 9.735a9.869 9.869 0 0 1-1.23 4.768l-8.319 13.97-.326-.548zm7.986-13.817a9.065 9.065 0 0 0 1.124-4.373c0-4.936-3.941-8.954-8.785-8.954-4.843 0-8.784 4.018-8.784 8.954 0 1.134.21 2.196.558 3.156.12.332.25.628.378.883.077.152.136.256.172.313l7.677 12.884 7.66-12.863z"/>\n      <path fill="url(#a)" d="M17.21 14.108a9.065 9.065 0 0 0 1.123-4.373c0-4.936-3.941-8.954-8.785-8.954C4.705.78.764 4.799.764 9.735c0 1.134.21 2.196.558 3.156.12.332.25.628.378.883.077.152.136.256.172.313l7.677 12.884 7.66-12.863z" transform="translate(7.639)"/>\n      <path fill="#4A90E2" d="M17.187 1.898c-4.212 0-7.638 3.513-7.638 7.83s3.426 7.83 7.638 7.83c4.213 0 7.64-3.513 7.64-7.83s-3.426-7.83-7.64-7.83z"/>\n      <path fill="#000" d="M17.187 1.898c-4.212 0-7.638 3.513-7.638 7.83s3.426 7.83 7.638 7.83c4.213 0 7.64-3.513 7.64-7.83s-3.426-7.83-7.64-7.83zm5.835 4.319c-.266-.062-.444-.244-.693-.53-.33-.383-.742-.86-1.55-.86s-1.219.477-1.55.86c-.31.357-.502.559-.901.559s-.592-.202-.901-.56c-.33-.382-.742-.858-1.549-.858-.808 0-1.219.476-1.549.858-.31.358-.502.56-.901.56s-.593-.202-.901-.56a3.723 3.723 0 0 0-.473-.476c1.243-1.482 3.08-2.425 5.133-2.425 2.486 0 4.656 1.382 5.835 3.432zm-2.019 5.752c-.83 0-1.256.473-1.6.85-.326.364-.533.569-.966.569-.43 0-.637-.205-.964-.568-.344-.38-.77-.85-1.6-.85-.829 0-1.256.472-1.599.85-.327.361-.534.568-.965.568-.43 0-.638-.205-.965-.568-.198-.22-.424-.47-.74-.642a2.37 2.37 0 0 0-.885-.386 7.082 7.082 0 0 1-.307-2.065c0-.07.008-.14.01-.21.295.09.497.285.744.53.377.37.845.832 1.74.832.894 0 1.363-.461 1.738-.832.345-.341.595-.586 1.14-.586.547 0 .795.245 1.141.586.377.37.845.832 1.74.832.894 0 1.363-.461 1.74-.832.344-.34.594-.586 1.14-.586.546 0 .796.245 1.14.586.29.285.636.622 1.186.763a7.016 7.016 0 0 1-.84 2.414 2.558 2.558 0 0 1-.428-.403c-.343-.38-.77-.852-1.6-.852zm-9.804.996c.185.101.336.266.51.458.344.38.77.852 1.6.852.83 0 1.257-.472 1.6-.85.327-.362.534-.568.965-.568.431 0 .638.205.965.566.343.38.769.852 1.599.852s1.256-.472 1.6-.85c.327-.363.533-.568.966-.568.432 0 .639.205.966.568.165.181.349.374.578.533-1.239 1.646-3.178 2.713-5.36 2.713-2.595 0-4.852-1.504-5.99-3.706zm12.087-3.557c-.377-.371-.846-.832-1.74-.832-.895 0-1.364.461-1.74.832-.345.34-.595.586-1.141.586s-.795-.245-1.14-.586c-.378-.371-.845-.832-1.74-.832s-1.362.461-1.74.832c-.344.34-.594.586-1.14.586-.546 0-.794-.245-1.14-.586-.301-.298-.668-.65-1.26-.778a7.018 7.018 0 0 1 1.025-2.714c.119.097.228.22.347.358.33.382.742.859 1.549.859.808 0 1.219-.477 1.548-.86.31-.357.503-.559.902-.559.398 0 .593.202.9.56.33.382.743.859 1.55.859.808 0 1.218-.477 1.55-.86.309-.357.502-.559.902-.559.399 0 .593.202.903.56.33.382.742.859 1.55.859h.235c.316.803.496 1.677.496 2.595 0 .062-.007.122-.008.183-.254-.098-.44-.28-.668-.503z"/>\n    </g>\n  </g>\n</svg>\n\n')});var e},maxClusterRadius:130});this.markers=s,this.map.addLayer(this.markers),this.icon=r,o.fitBounds(i),o.locate({setView:!1,timeout:6e4,maximumAge:5e5}),o.on("locationfound",function(t){wi.marker(t.latlng).addTo(o),wi.circle(t.latlng,20).addTo(o)}),o.on("locationerror",function(t){return console.error("location failed",t)}),wi.control.scale().addTo(o),setTimeout(this._addMarkers.bind(this),500),this.created=!0}},{key:"_addMarker",value:function(t){var e=this,n=function(){var t=document.createElement("button");return sn(t,[arguments[0]]),t}(t.name.en);n.onclick=function(){e.selected=t,e.parent.emit("catches:adding:update",{wb:t}),e._showControls()};var i={className:"_72e0d8c1",maxWidth:500,permanent:!0,direction:"bottom",offset:[9,22]},o=wi.marker(t.loc,{icon:this.icon}).bindTooltip(n,i);this.markerPrecache.push(o)}},{key:"_loadPoints",value:function(){var t=this;return new Promise(function(e){!function n(){var i=t.points;if(!i&&t.parent.state.data&&(i=t.parent.state.data.wb),i)return t.points=i,e(i);setTimeout(100,n)}()})}},{key:"_addMarkers",value:function(){var t=this;t._loadPoints().then(function(){Object.keys(t.points).forEach(function(e){var n=t.points[e];n.id=e,t._addMarker(n)}),t.markers.addLayers(t.markerPrecache,{chunkedLoading:!0}),t.map.invalidateSize(!0),setTimeout(function(){return t._dismissLoading()},300)})}},{key:"_createLoading",value:function(){var t=function(){var t=document.createElement("div");t.setAttribute("class",arguments[0]);var e=document.createElement("h3");return sn(e,["loading map data"]),sn(t,["\n      ",e,"\n      ",arguments[1],"\n    "]),t}("_195b9806",vi());this.loading=t}},{key:"_dismissLoading",value:function(){var t=this;this.loading.style.opacity=0,setTimeout(function(){t.loading.remove()},1050)}},{key:"_createControls",value:function(){this.controls=this.parent.state.cache(mi,"lakemap-controls-popover"),this.element&&!this.controls.element&&(this.controls.hide(),this.element.appendChild(this.controls.render()))}},{key:"_showControls",value:function(){if(this.selected){this._createControls();var t=this,e=Ii(t.parent.state,t.parent.emit,{label:"yes",classes:"w-40",onclick:function(){t.next({wb:t.selected}),t._dismissControls()}}),n=Ii(t.parent.state,t.parent.emit,{label:"no",classes:"w-40",onclick:function(){return t._dismissControls()}}),i=function(){var t=document.createElement("div");t.setAttribute("style","justify-content: center;"),t.setAttribute("class","flex flex-column f3");var e=document.createElement("div"),n=document.createElement("p");n.setAttribute("class","pv1"),sn(n,["Did you fish at ",arguments[0],"?"]),sn(e,[n]);var i=document.createElement("div");return i.setAttribute("style","justify-content: space-evenly;"),i.setAttribute("class","flex flex-row"),sn(i,[arguments[1],arguments[2]]),sn(t,["\n      ",e,"\n      ",i,"\n    "]),t}(this.selected.name.en,e,n);this.controls.show({content:i})}}},{key:"_dismissControls",value:function(){this.selected=null,this.controls.hide()}},{key:"update",value:function(){return!this.map}},{key:"beforerender",value:function(t){this._createMap(t)}}]),e}(),Ni=[{id:15,text:"15-20cm"},{id:20,text:"20-25cm"},{id:25,text:"25-30cm"},{id:30,text:"30-35cm"},{id:35,text:"35-40cm"},{id:40,text:"40-45cm"},{id:45,text:"45-50cm"},{id:50,text:"50-55cm"},{id:55,text:"55-60cm"},{id:60,text:"60-65cm"},{id:65,text:"65-70cm"},{id:70,text:"70-75cm"},{id:75,text:">75cm"}],Ri=function(t,e,n){return function(){var t=document.createElement("div");return t.setAttribute("class","flex flex-column w-100 pa3 f4 gray roboto"),sn(t,["\n    ",arguments[0],"\n  "]),t}(Ni.map(function(t){var e=function(){var t=document.createElement("div");return t.setAttribute("class","pa3 bg-white bb b--light-gray bg-animate hover-bg-white pointer w-100 "),sn(t,[arguments[0]]),t}(t.text);return e.onclick=function(e){n.next({size:t})},e}))},ji={},Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Oi=this,zi=function(){var t={version:"0.9.8"};return function(t,e,n){"use strict";n.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n.noop=function(t){return t},n.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},n.extend=function(t){return t=t||{},Array.prototype.slice.call(arguments,1).forEach(function(e){for(var i in e)"object"!==Zi(e[i])||null===e[i]||e[i]instanceof Array?t[i]=e[i]:t[i]=n.extend({},t[i],e[i])}),t},n.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},n.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},n.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},n.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},n.times=function(t){return Array.apply(null,new Array(t))},n.sum=function(t,e){return t+(e||0)},n.mapMultiply=function(t){return function(e){return e*t}},n.mapAdd=function(t){return function(e){return e+t}},n.serialMap=function(t,e){var i=[],o=Math.max.apply(null,t.map(function(t){return t.length}));return n.times(o).forEach(function(n,o){var r=t.map(function(t){return t[o]});i[o]=e.apply(null,r)}),i},n.roundWithPrecision=function(t,e){var i=Math.pow(10,e||n.precision);return Math.round(t*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(t){return null==t?t:("number"==typeof t?t=""+t:"object"===(void 0===t?"undefined":Zi(t))&&(t=JSON.stringify({data:t})),Object.keys(n.escapingMap).reduce(function(t,e){return n.replaceAll(t,e,n.escapingMap[e])},t))},n.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(n.escapingMap).reduce(function(t,e){return n.replaceAll(t,n.escapingMap[e],e)},t);try{t=void 0!==(t=JSON.parse(t)).data?t.data:t}catch(Do){}return t},n.createSvg=function(t,e,i,o){var r;return e=e||"100%",i=i||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS(n.namespaces.xmlns,"ct")}).forEach(function(e){t.removeChild(e)}),r=new n.Svg("svg").attr({width:e,height:i}).addClass(o).attr({style:"width: "+e+"; height: "+i+";"}),t.appendChild(r._node),r},n.normalizeData=function(t){if((t=t||{series:[],labels:[]}).series=t.series||[],t.labels=t.labels||[],t.series.length>0&&0===t.labels.length){var e,i=n.getDataArray(t);e=i.every(function(t){return t instanceof Array})?Math.max.apply(null,i.map(function(t){return t.length})):i.length,t.labels=n.times(e).map(function(){return""})}return t},n.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"===Zi(t.series[e])&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},n.getDataArray=function(t,e,i){return(e&&!t.reversed||!e&&t.reversed)&&(n.reverseData(t),t.reversed=!t.reversed),t.series.map(function t(e){if(!n.isFalseyButZero(e)){if((e.data||e)instanceof Array)return(e.data||e).map(t);if(e.hasOwnProperty("value"))return t(e.value);if(i){var o={};return"string"==typeof i?o[i]=n.getNumberOrUndefined(e):o.y=n.getNumberOrUndefined(e),o.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):o.x,o.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):o.y,o}return n.getNumberOrUndefined(e)}})},n.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},n.getMetaData=function(t,e){var i=t.data?t.data[e]:t[e];return i?n.serialize(i.meta):void 0},n.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},n.projectLength=function(t,e,n){return e/n.range*t},n.getAvailableHeight=function(t,e){return Math.max((n.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},n.getHighLow=function(t,e,i){var o={high:void 0===(e=n.extend({},e,i?e["axis"+i.toUpperCase()]:{})).high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},r=void 0===e.high,s=void 0===e.low;return(r||s)&&function t(e){if(void 0!==e)if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else{var a=i?+e[i]:+e;r&&a>o.high&&(o.high=a),s&&a<o.low&&(o.low=a)}}(t),(e.referenceValue||0===e.referenceValue)&&(o.high=Math.max(e.referenceValue,o.high),o.low=Math.min(e.referenceValue,o.low)),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:o.high>0?o.low=0:(o.high=1,o.low=0)),o},n.isNum=function(t){return!isNaN(t)&&isFinite(t)},n.isFalseyButZero=function(t){return!t&&0!==t},n.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t},n.getMultiValue=function(t,e){return n.isNum(t)?+t:t&&t[e||"y"]||0},n.rho=function(t){if(1===t)return t;function e(t,n){return t%n==0?n:e(n,t%n)}function n(t){return t*t+1}var i,o=2,r=2;if(t%2==0)return 2;do{o=n(o)%t,r=n(n(r))%t,i=e(Math.abs(o-r),t)}while(1===i);return i},n.getBounds=function(t,e,i,o){var r,s,a,h=0,l={high:e.high,low:e.low};l.valueRange=l.high-l.low,l.oom=n.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var u=n.projectLength(t,l.step,l)<i,c=o?n.rho(l.range):0;if(o&&n.projectLength(t,1,l)>=i)l.step=1;else if(o&&c<l.step&&n.projectLength(t,c,l)>=i)l.step=c;else for(;;){if(u&&n.projectLength(t,l.step,l)<=i)l.step*=2;else{if(u||!(n.projectLength(t,l.step/2,l)>=i))break;if(l.step/=2,o&&l.step%1!=0){l.step*=2;break}}if(h++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}for(l.step=Math.max(l.step,2.221e-16),s=l.min,a=l.max;s+l.step<=l.low;)s+=l.step;for(;a-l.step>=l.high;)a-=l.step;l.min=s,l.max=a,l.range=l.max-l.min;var f=[];for(r=l.min;r<=l.max;r+=l.step)n.roundWithPrecision(r)!==f[f.length-1]&&f.push(r);return l.values=f,l},n.polarToCartesian=function(t,e,n,i){var o=(i-90)*Math.PI/180;return{x:t+n*Math.cos(o),y:e+n*Math.sin(o)}},n.createChartRect=function(t,e,i){var o=!(!e.axisX&&!e.axisY),r=o?e.axisY.offset:0,s=o?e.axisX.offset:0,a=t.width()||n.quantity(e.width).value||0,h=t.height()||n.quantity(e.height).value||0,l=n.normalizePadding(e.chartPadding,i);a=Math.max(a,r+l.left+l.right),h=Math.max(h,s+l.top+l.bottom);var u={padding:l,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return o?("start"===e.axisX.position?(u.y2=l.top+s,u.y1=Math.max(h-l.bottom,u.y2+1)):(u.y2=l.top,u.y1=Math.max(h-l.bottom-s,u.y2+1)),"start"===e.axisY.position?(u.x1=l.left+r,u.x2=Math.max(a-l.right,u.x1+1)):(u.x1=l.left,u.x2=Math.max(a-l.right-r,u.x1+1))):(u.x1=l.left,u.x2=Math.max(a-l.right,u.x1+1),u.y2=l.top,u.y1=Math.max(h-l.bottom,u.y2+1)),u},n.createGrid=function(t,e,i,o,r,s,a,h){var l={};l[i.units.pos+"1"]=t,l[i.units.pos+"2"]=t,l[i.counterUnits.pos+"1"]=o,l[i.counterUnits.pos+"2"]=o+r;var u=s.elem("line",l,a.join(" "));h.emit("draw",n.extend({type:"grid",axis:i,index:e,group:s,element:u},l))},n.createLabel=function(t,e,i,o,r,s,a,h,l,u,c){var f,d={};if(d[r.units.pos]=t+a[r.units.pos],d[r.counterUnits.pos]=a[r.counterUnits.pos],d[r.units.len]=e,d[r.counterUnits.len]=Math.max(0,s-10),u){var p='<span class="'+l.join(" ")+'" style="'+r.units.len+": "+Math.round(d[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(d[r.counterUnits.len])+'px">'+o[i]+"</span>";f=h.foreignObject(p,n.extend({style:"overflow: visible;"},d))}else f=h.elem("text",d,l.join(" ")).text(o[i]);c.emit("draw",n.extend({type:"label",axis:r,index:i,group:h,element:f,text:o[i]},d))},n.getSeriesOption=function(t,e,n){if(t.name&&e.series&&e.series[t.name]){var i=e.series[t.name];return i.hasOwnProperty(n)?i[n]:e[n]}return e[n]},n.optionsProvider=function(e,i,o){var r,s,a=n.extend({},e),h=[];function l(e){var h=r;if(r=n.extend({},a),i)for(s=0;s<i.length;s++)t.matchMedia(i[s][0]).matches&&(r=n.extend(r,i[s][1]));o&&e&&o.emit("optionsChanged",{previousOptions:h,currentOptions:r})}if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(s=0;s<i.length;s++){var u=t.matchMedia(i[s][0]);u.addListener(l),h.push(u)}return l(),{removeMediaQueryListeners:function(){h.forEach(function(t){t.removeListener(l)})},getCurrentOptions:function(){return n.extend({},r)}}},n.splitIntoSegments=function(t,e,i){i=n.extend({},{increasingX:!1,fillHoles:!1},i);for(var o=[],r=!0,s=0;s<t.length;s+=2)void 0===e[s/2].value?i.fillHoles||(r=!0):(i.increasingX&&s>=2&&t[s]<=t[s-2]&&(r=!0),r&&(o.push({pathCoordinates:[],valueData:[]}),r=!1),o[o.length-1].pathCoordinates.push(t[s],t[s+1]),o[o.length-1].valueData.push(e[s/2]));return o}}(window,document,t),function(t,e,n){"use strict";n.Interpolation={},n.Interpolation.none=function(t){return t=n.extend({},{fillHoles:!1},t),function(e,i){for(var o=new n.Svg.Path,r=!0,s=0;s<e.length;s+=2){var a=e[s],h=e[s+1],l=i[s/2];void 0!==l.value?(r?o.move(a,h,!1,l):o.line(a,h,!1,l),r=!1):t.fillHoles||(r=!0)}return o}},n.Interpolation.simple=function(t){t=n.extend({},{divisor:2,fillHoles:!1},t);var e=1/Math.max(1,t.divisor);return function(i,o){for(var r,s,a,h=new n.Svg.Path,l=0;l<i.length;l+=2){var u=i[l],c=i[l+1],f=(u-r)*e,d=o[l/2];void 0!==d.value?(void 0===a?h.move(u,c,!1,d):h.curve(r+f,s,u-f,c,u,c,!1,d),r=u,s=c,a=d):t.fillHoles||(r=u=a=void 0)}return h}},n.Interpolation.cardinal=function(t){t=n.extend({},{tension:1,fillHoles:!1},t);var e=Math.min(1,Math.max(0,t.tension)),i=1-e;return function o(r,s){var a=n.splitIntoSegments(r,s,{fillHoles:t.fillHoles});if(a.length){if(a.length>1){var h=[];return a.forEach(function(t){h.push(o(t.pathCoordinates,t.valueData))}),n.Svg.Path.join(h)}if(r=a[0].pathCoordinates,s=a[0].valueData,r.length<=4)return n.Interpolation.none()(r,s);for(var l=(new n.Svg.Path).move(r[0],r[1],!1,s[0]),u=0,c=r.length;c-2>u;u+=2){var f=[{x:+r[u-2],y:+r[u-1]},{x:+r[u],y:+r[u+1]},{x:+r[u+2],y:+r[u+3]},{x:+r[u+4],y:+r[u+5]}];c-4===u?f[3]=f[2]:u||(f[0]={x:+r[u],y:+r[u+1]}),l.curve(e*(-f[0].x+6*f[1].x+f[2].x)/6+i*f[2].x,e*(-f[0].y+6*f[1].y+f[2].y)/6+i*f[2].y,e*(f[1].x+6*f[2].x-f[3].x)/6+i*f[2].x,e*(f[1].y+6*f[2].y-f[3].y)/6+i*f[2].y,f[2].x,f[2].y,!1,s[(u+2)/2])}return l}return n.Interpolation.none()([])}},n.Interpolation.monotoneCubic=function(t){return t=n.extend({},{fillHoles:!1},t),function e(i,o){var r=n.splitIntoSegments(i,o,{fillHoles:t.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var s=[];return r.forEach(function(t){s.push(e(t.pathCoordinates,t.valueData))}),n.Svg.Path.join(s)}if(i=r[0].pathCoordinates,o=r[0].valueData,i.length<=4)return n.Interpolation.none()(i,o);var a,h,l=[],u=[],c=i.length/2,f=[],d=[],p=[],m=[];for(a=0;a<c;a++)l[a]=i[2*a],u[a]=i[2*a+1];for(a=0;a<c-1;a++)p[a]=u[a+1]-u[a],m[a]=l[a+1]-l[a],d[a]=p[a]/m[a];for(f[0]=d[0],f[c-1]=d[c-2],a=1;a<c-1;a++)0===d[a]||0===d[a-1]||d[a-1]>0!=d[a]>0?f[a]=0:(f[a]=3*(m[a-1]+m[a])/((2*m[a]+m[a-1])/d[a-1]+(m[a]+2*m[a-1])/d[a]),isFinite(f[a])||(f[a]=0));for(h=(new n.Svg.Path).move(l[0],u[0],!1,o[0]),a=0;a<c-1;a++)h.curve(l[a]+m[a]/3,u[a]+f[a]*m[a]/3,l[a+1]-m[a]/3,u[a+1]-f[a+1]*m[a]/3,l[a+1],u[a+1],!1,o[a+1]);return h}return n.Interpolation.none()([])}},n.Interpolation.step=function(t){return t=n.extend({},{postpone:!0,fillHoles:!1},t),function(e,i){for(var o,r,s,a=new n.Svg.Path,h=0;h<e.length;h+=2){var l=e[h],u=e[h+1],c=i[h/2];void 0!==c.value?(void 0===s?a.move(l,u,!1,c):(t.postpone?a.line(l,r,!1,s):a.line(o,u,!1,c),a.line(l,u,!1,c)),o=l,r=u,s=c):t.fillHoles||(o=r=s=void 0)}return a}}}(window,document,t),function(t,e,n){"use strict";n.EventEmitter=function(){var t=[];return{addEventHandler:function(e,n){t[e]=t[e]||[],t[e].push(n)},removeEventHandler:function(e,n){t[e]&&(n?(t[e].splice(t[e].indexOf(n),1),0===t[e].length&&delete t[e]):delete t[e])},emit:function(e,n){t[e]&&t[e].forEach(function(t){t(n)}),t["*"]&&t["*"].forEach(function(t){t(e,n)})}}}}(window,document,t),function(t,e,n){"use strict";n.Class={extend:function(t,e){var i=e||this.prototype||n.Class,o=Object.create(i);n.Class.cloneDefinitions(o,t);var r=function(){var t,e=o.constructor||function(){};return t=this===n?Object.create(o):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return r.prototype=o,r.super=i,r.extend=this.extend,r},cloneDefinitions:function(){var t=function(t){var e=[];if(t.length)for(var n=0;n<t.length;n++)e.push(t[n]);return e}(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(n){delete e[n],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}),e}}}(window,document,t),function(t,e,n){"use strict";n.Base=n.Class.extend({constructor:function(e,i,o,r,s){this.container=n.querySelector(e),this.data=i,this.defaultOptions=o,this.options=r,this.responsiveOptions=s,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(function(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(t,e,i){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=n.extend({},i?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(t,e){return this.eventEmitter.addEventHandler(t,e),this},off:function(t,e){return this.eventEmitter.removeEventHandler(t,e),this},version:n.version,supportsForeignObject:!1})}(window,document,t),function(t,e,n){"use strict";n.Svg=n.Class.extend({constructor:function(t,i,o,r,s){t instanceof Element?this._node=t:(this._node=e.createElementNS(n.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":n.namespaces.ct})),i&&this.attr(i),o&&this.addClass(o),r&&(s&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))},attr:function(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(e){if(void 0!==t[e])if(-1!==e.indexOf(":")){var i=e.split(":");this._node.setAttributeNS(n.namespaces[i[0]],e,t[e])}else this._node.setAttribute(e,t[e])}.bind(this)),this)},elem:function(t,e,i,o){return new n.Svg(t,e,i,this,o)},parent:function(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null},root:function(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new n.Svg(t)},querySelector:function(t){var e=this._node.querySelector(t);return e?new n.Svg(e):null},querySelectorAll:function(t){var e=this._node.querySelectorAll(t);return e.length?new n.Svg.List(e):null},foreignObject:function(t,i,o,r){if("string"==typeof t){var s=e.createElement("div");s.innerHTML=t,t=s.firstChild}t.setAttribute("xmlns",n.namespaces.xmlns);var a=this.elem("foreignObject",i,o,r);return a._node.appendChild(t),a},text:function(t){return this._node.appendChild(e.createTextNode(t)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(t){return this._node.parentNode.replaceChild(t._node,this._node),t},append:function(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,n){return n.indexOf(t)===e}).join(" ")),this},removeClass:function(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t)}).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(t,e,i){return void 0===e&&(e=!0),Object.keys(t).forEach(function(o){function r(t,e){var r,s,a,h={};t.easing&&(a=t.easing instanceof Array?t.easing:n.Svg.Easing[t.easing],delete t.easing),t.begin=n.ensureUnit(t.begin,"ms"),t.dur=n.ensureUnit(t.dur,"ms"),a&&(t.calcMode="spline",t.keySplines=a.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",h[o]=t.from,this.attr(h),s=n.quantity(t.begin||0).value,t.begin="indefinite"),r=this.elem("animate",n.extend({attributeName:o},t)),e&&setTimeout(function(){try{r._node.beginElement()}catch(Uo){h[o]=t.to,this.attr(h),r.remove()}}.bind(this),s),i&&r._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:r._node,params:t})}.bind(this)),r._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:r._node,params:t}),e&&(h[o]=t.to,this.attr(h),r.remove())}.bind(this))}t[o]instanceof Array?t[o].forEach(function(t){r.bind(this)(t,!1)}.bind(this)):r.bind(this)(t[o],e)}.bind(this)),this}}),n.Svg.isSupported=function(t){return e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")},n.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},n.Svg.List=n.Class.extend({constructor:function(t){var e=this;this.svgElements=[];for(var i=0;i<t.length;i++)this.svgElements.push(new n.Svg(t[i]));Object.keys(n.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)}).forEach(function(t){e[t]=function(){var i=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){n.Svg.prototype[t].apply(e,i)}),e}})}})}(window,document,t),function(t,e,n){"use strict";var i={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},o={accuracy:3};function r(t,e,i,o,r,s){var a=n.extend({command:r?t.toLowerCase():t.toUpperCase()},e,s?{data:s}:{});i.splice(o,0,a)}function s(t,e){t.forEach(function(n,o){i[n.command.toLowerCase()].forEach(function(i,r){e(n,i,o,r,t)})})}n.Svg.Path=n.Class.extend({constructor:function(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=n.extend({},o,e)},position:function(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos},remove:function(t){return this.pathElements.splice(this.pos,t),this},move:function(t,e,n,i){return r("M",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this},line:function(t,e,n,i){return r("L",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this},curve:function(t,e,n,i,o,s,a,h){return r("C",{x1:+t,y1:+e,x2:+n,y2:+i,x:+o,y:+s},this.pathElements,this.pos++,a,h),this},arc:function(t,e,n,i,o,s,a,h,l){return r("A",{rx:+t,ry:+e,xAr:+n,lAf:+i,sf:+o,x:+s,y:+a},this.pathElements,this.pos++,h,l),this},scale:function(t,e){return s(this.pathElements,function(n,i){n[i]*="x"===i[0]?t:e}),this},translate:function(t,e){return s(this.pathElements,function(n,i){n[i]+="x"===i[0]?t:e}),this},transform:function(t){return s(this.pathElements,function(e,n,i,o,r){var s=t(e,n,i,o,r);(s||0===s)&&(e[n]=s)}),this},parse:function(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var o=e.map(function(t){var e=t.shift(),o=i[e.toLowerCase()];return n.extend({command:e},o.reduce(function(e,n,i){return e[n]=+t[i],e},{}))}),r=[this.pos,0];return Array.prototype.push.apply(r,o),Array.prototype.splice.apply(this.pathElements,r),this.pos+=o.length,this},stringify:function(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,n){var o=i[n.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(n[e]*t)/t:n[e]}.bind(this));return e+n.command+o.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(t){var e=new n.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return n.extend({},t)}),e.options=n.extend({},this.options),e},splitByCommand:function(t){var e=[new n.Svg.Path];return this.pathElements.forEach(function(i){i.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new n.Svg.Path),e[e.length-1].pathElements.push(i)}),e}}),n.Svg.Path.elementDescriptions=i,n.Svg.Path.join=function(t,e,i){for(var o=new n.Svg.Path(e,i),r=0;r<t.length;r++)for(var s=t[r],a=0;a<s.pathElements.length;a++)o.pathElements.push(s.pathElements[a]);return o}}(window,document,t),function(t,e,n){"use strict";var i={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:function(t,e,n,o){this.units=t,this.counterUnits=t===i.x?i.y:i.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=n,this.options=o},createGridAndLabels:function(t,e,i,o,r){var s=o["axis"+this.units.pos.toUpperCase()],a=this.ticks.map(this.projectValue.bind(this)),h=this.ticks.map(s.labelInterpolationFnc);a.forEach(function(l,u){var c,f={x:0,y:0};c=a[u+1]?a[u+1]-l:Math.max(this.axisLength-l,30),n.isFalseyButZero(h[u])&&""!==h[u]||("x"===this.units.pos?(l=this.chartRect.x1+l,f.x=o.axisX.labelOffset.x,"start"===o.axisX.position?f.y=this.chartRect.padding.top+o.axisX.labelOffset.y+(i?5:20):f.y=this.chartRect.y1+o.axisX.labelOffset.y+(i?5:20)):(l=this.chartRect.y1-l,f.y=o.axisY.labelOffset.y-(i?c:0),"start"===o.axisY.position?f.x=i?this.chartRect.padding.left+o.axisY.labelOffset.x:this.chartRect.x1-10:f.x=this.chartRect.x2+o.axisY.labelOffset.x+10),s.showGrid&&n.createGrid(l,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[o.classNames.grid,o.classNames[this.units.dir]],r),s.showLabel&&n.createLabel(l,c,u,h,this,s.offset,f,e,[o.classNames.label,o.classNames[this.units.dir],o.classNames[s.position]],i,r))}.bind(this))},projectValue:function(t,e,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=i}(window,document,t),function(t,e,n){"use strict";n.AutoScaleAxis=n.Axis.extend({constructor:function(t,e,i,o){var r=o.highLow||n.getHighLow(e.normalized,o,t.pos);this.bounds=n.getBounds(i[t.rectEnd]-i[t.rectStart],r,o.scaleMinSpace||20,o.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis.super.constructor.call(this,t,i,this.bounds.values,o)},projectValue:function(t){return this.axisLength*(+n.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}})}(window,document,t),function(t,e,n){"use strict";n.FixedScaleAxis=n.Axis.extend({constructor:function(t,e,i,o){var r=o.highLow||n.getHighLow(e.normalized,o,t.pos);this.divisor=o.divisor||1,this.ticks=o.ticks||n.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},n.FixedScaleAxis.super.constructor.call(this,t,i,this.ticks,o),this.stepLength=this.axisLength/this.divisor},projectValue:function(t){return this.axisLength*(+n.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(window,document,t),function(t,e,n){"use strict";n.StepAxis=n.Axis.extend({constructor:function(t,e,i,o){n.StepAxis.super.constructor.call(this,t,i,o.ticks,o),this.stepLength=this.axisLength/(o.ticks.length-(o.stretch?1:0))},projectValue:function(t,e){return this.stepLength*e}})}(window,document,t),function(t,e,n){"use strict";var i={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:function(t,e,o,r){n.Line.super.constructor.call(this,t,e,i,n.extend({},i,o),r)},createChart:function(t){this.data=n.normalizeData(this.data);var e={raw:this.data,normalized:n.getDataArray(this.data,t.reverseData,!0)};this.svg=n.createSvg(this.container,t.width,t.height,t.classNames.chart);var o,r,s=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),h=this.svg.elem("g").addClass(t.classNames.labelGroup),l=n.createChartRect(this.svg,t,i.padding);o=void 0===t.axisX.type?new n.StepAxis(n.Axis.units.x,e,l,n.extend({},t.axisX,{ticks:e.raw.labels,stretch:t.fullWidth})):t.axisX.type.call(n,n.Axis.units.x,e,l,t.axisX),r=void 0===t.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,e,l,n.extend({},t.axisY,{high:n.isNum(t.high)?t.high:t.axisY.high,low:n.isNum(t.low)?t.low:t.axisY.low})):t.axisY.type.call(n,n.Axis.units.y,e,l,t.axisY),o.createGridAndLabels(s,h,this.supportsForeignObject,t,this.eventEmitter),r.createGridAndLabels(s,h,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(i,s){var h=a.elem("g");h.attr({"ct:series-name":i.name,"ct:meta":n.serialize(i.meta)}),h.addClass([t.classNames.series,i.className||t.classNames.series+"-"+n.alphaNumerate(s)].join(" "));var u=[],c=[];e.normalized[s].forEach(function(t,a){var h={x:l.x1+o.projectValue(t,a,e.normalized[s]),y:l.y1-r.projectValue(t,a,e.normalized[s])};u.push(h.x,h.y),c.push({value:t,valueIndex:a,meta:n.getMetaData(i,a)})}.bind(this));var f={lineSmooth:n.getSeriesOption(i,t,"lineSmooth"),showPoint:n.getSeriesOption(i,t,"showPoint"),showLine:n.getSeriesOption(i,t,"showLine"),showArea:n.getSeriesOption(i,t,"showArea"),areaBase:n.getSeriesOption(i,t,"areaBase")},d=("function"==typeof f.lineSmooth?f.lineSmooth:f.lineSmooth?n.Interpolation.monotoneCubic():n.Interpolation.none())(u,c);if(f.showPoint&&d.pathElements.forEach(function(e){var a=h.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({"ct:value":[e.data.value.x,e.data.value.y].filter(n.isNum).join(","),"ct:meta":e.data.meta});this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:i,seriesIndex:s,axisX:o,axisY:r,group:h,element:a,x:e.x,y:e.y})}.bind(this)),f.showLine){var p=h.elem("path",{d:d.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized[s],path:d.clone(),chartRect:l,index:s,series:i,seriesIndex:s,axisX:o,axisY:r,group:h,element:p})}if(f.showArea&&r.range){var m=Math.max(Math.min(f.areaBase,r.range.max),r.range.min),_=l.y1-r.projectValue(m);d.splitByCommand("M").filter(function(t){return t.pathElements.length>1}).map(function(t){var e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,_).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,_)}).forEach(function(n){var a=h.elem("path",{d:n.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:e.normalized[s],path:n.clone(),series:i,seriesIndex:s,axisX:o,axisY:r,chartRect:l,index:s,group:h,element:a})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:r.bounds,chartRect:l,axisX:o,axisY:r,svg:this.svg,options:t})}})}(window,document,t),function(t,e,n){"use strict";var i={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:function(t,e,o,r){n.Bar.super.constructor.call(this,t,e,i,n.extend({},i,o),r)},createChart:function(t){this.data=n.normalizeData(this.data);var e,o={raw:this.data,normalized:t.distributeSeries?n.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y").map(function(t){return[t]}):n.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y")};this.svg=n.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var r=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),a=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==o.normalized.length){var h=n.serialMap(o.normalized,function(){return Array.prototype.slice.call(arguments).map(function(t){return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});e=n.getHighLow([h],n.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y")}else e=n.getHighLow(o.normalized,n.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y");e.high=+t.high||(0===t.high?0:e.high),e.low=+t.low||(0===t.low?0:e.low);var l,u,c,f,d,p=n.createChartRect(this.svg,t,i.padding);u=t.distributeSeries&&t.stackBars?o.raw.labels.slice(0,1):o.raw.labels,t.horizontalBars?(l=f=void 0===t.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,o,p,n.extend({},t.axisX,{highLow:e,referenceValue:0})):t.axisX.type.call(n,n.Axis.units.x,o,p,n.extend({},t.axisX,{highLow:e,referenceValue:0})),c=d=void 0===t.axisY.type?new n.StepAxis(n.Axis.units.y,o,p,{ticks:u}):t.axisY.type.call(n,n.Axis.units.y,o,p,t.axisY)):(c=f=void 0===t.axisX.type?new n.StepAxis(n.Axis.units.x,o,p,{ticks:u}):t.axisX.type.call(n,n.Axis.units.x,o,p,t.axisX),l=d=void 0===t.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,o,p,n.extend({},t.axisY,{highLow:e,referenceValue:0})):t.axisY.type.call(n,n.Axis.units.y,o,p,n.extend({},t.axisY,{highLow:e,referenceValue:0})));var m=t.horizontalBars?p.x1+l.projectValue(0):p.y1-l.projectValue(0),_=[];c.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),l.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),o.raw.series.forEach(function(e,i){var r,a,h=i-(o.raw.series.length-1)/2;r=t.distributeSeries&&!t.stackBars?c.axisLength/o.normalized.length/2:t.distributeSeries&&t.stackBars?c.axisLength/2:c.axisLength/o.normalized[i].length/2,(a=s.elem("g")).attr({"ct:series-name":e.name,"ct:meta":n.serialize(e.meta)}),a.addClass([t.classNames.series,e.className||t.classNames.series+"-"+n.alphaNumerate(i)].join(" ")),o.normalized[i].forEach(function(s,u){var v,g,y,b;if(b=t.distributeSeries&&!t.stackBars?i:t.distributeSeries&&t.stackBars?0:u,v=t.horizontalBars?{x:p.x1+l.projectValue(s&&s.x?s.x:0,u,o.normalized[i]),y:p.y1-c.projectValue(s&&s.y?s.y:0,b,o.normalized[i])}:{x:p.x1+c.projectValue(s&&s.x?s.x:0,b,o.normalized[i]),y:p.y1-l.projectValue(s&&s.y?s.y:0,u,o.normalized[i])},c instanceof n.StepAxis&&(c.options.stretch||(v[c.units.pos]+=r*(t.horizontalBars?-1:1)),v[c.units.pos]+=t.stackBars||t.distributeSeries?0:h*t.seriesBarDistance*(t.horizontalBars?-1:1)),y=_[u]||m,_[u]=y-(m-v[c.counterUnits.pos]),void 0!==s){var w={};w[c.units.pos+"1"]=v[c.units.pos],w[c.units.pos+"2"]=v[c.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[c.counterUnits.pos+"1"]=m,w[c.counterUnits.pos+"2"]=v[c.counterUnits.pos]):(w[c.counterUnits.pos+"1"]=y,w[c.counterUnits.pos+"2"]=_[u]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1),g=a.elem("line",w,t.classNames.bar).attr({"ct:value":[s.x,s.y].filter(n.isNum).join(","),"ct:meta":n.getMetaData(e,u)}),this.eventEmitter.emit("draw",n.extend({type:"bar",value:s,index:u,meta:n.getMetaData(e,u),series:e,seriesIndex:i,axisX:f,axisY:d,chartRect:p,group:a,element:g},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:l.bounds,chartRect:p,axisX:f,axisY:d,svg:this.svg,options:t})}})}(window,document,t),function(t,e,n){"use strict";var i={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function o(t,e,n){var i=e.x>t.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}n.Pie=n.Base.extend({constructor:function(t,e,o,r){n.Pie.super.constructor.call(this,t,e,i,n.extend({},i,o),r)},createChart:function(t){this.data=n.normalizeData(this.data);var e,r,s,a,h,l=[],u=t.startAngle,c=n.getDataArray(this.data,t.reverseData);this.svg=n.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),r=n.createChartRect(this.svg,t,i.padding),s=Math.min(r.width()/2,r.height()/2),h=t.total||c.reduce(function(t,e){return t+e},0);var f=n.quantity(t.donutWidth);"%"===f.unit&&(f.value*=s/100),s-=t.donut?f.value/2:0,a="outside"===t.labelPosition||t.donut?s:"center"===t.labelPosition?0:s/2,a+=t.labelOffset;var d={x:r.x1+r.width()/2,y:r.y2+r.height()/2},p=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;t.showLabel&&(e=this.svg.elem("g",null,null,!0));for(var m=0;m<this.data.series.length;m++)if(0!==c[m]||!t.ignoreEmptyValues){var _=this.data.series[m];l[m]=this.svg.elem("g",null,null,!0),l[m].attr({"ct:series-name":_.name}),l[m].addClass([t.classNames.series,_.className||t.classNames.series+"-"+n.alphaNumerate(m)].join(" "));var v=u+c[m]/h*360,g=Math.max(0,u-(0===m||p?0:.2));v-g>=359.99&&(v=g+359.99);var y=n.polarToCartesian(d.x,d.y,s,g),b=n.polarToCartesian(d.x,d.y,s,v),w=new n.Svg.Path(!t.donut).move(b.x,b.y).arc(s,s,0,v-u>180,0,y.x,y.y);t.donut||w.line(d.x,d.y);var x=l[m].elem("path",{d:w.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(x.attr({"ct:value":c[m],"ct:meta":n.serialize(_.meta)}),t.donut&&x.attr({style:"stroke-width: "+f.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:c[m],totalDataSum:h,index:m,meta:_.meta,series:_,group:l[m],element:x,path:w.clone(),center:d,radius:s,startAngle:u,endAngle:v}),t.showLabel){var L=n.polarToCartesian(d.x,d.y,a,u+(v-u)/2),E=t.labelInterpolationFnc(this.data.labels&&!n.isFalseyButZero(this.data.labels[m])?this.data.labels[m]:c[m],m);if(E||0===E){var C=e.elem("text",{dx:L.x,dy:L.y,"text-anchor":o(d,L,t.labelDirection)},t.classNames.label).text(""+E);this.eventEmitter.emit("draw",{type:"label",index:m,group:e,element:C,text:""+E,x:L.x,y:L.y})}}u=v}this.eventEmitter.emit("created",{chartRect:r,svg:this.svg,options:t})},determineAnchorPosition:o})}(window,document,t),t},"function"==typeof define&&define.amd?define([],function(){return Oi.Chartist=zi()}):"object"===(void 0===ji?"undefined":Zi(ji))?ji=zi():Oi.Chartist=zi();var Di={labels:["Lake Trout","Atlantic Salmon"],series:[[8,12],[4,7]]},Ui={seriesBarDistance:10,reverseData:!0,horizontalBars:!0,fullWidth:!0,onlyInteger:!0,showGrid:!1,axisY:{offset:70}},Fi=[["screen and (min-width: 641px) and (max-width: 1024px)",{seriesBarDistance:10,axisX:{labelInterpolationFnc:function(t){return t}}}],["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(t){return t[0]}}}]],Hi=function(t,e,n){var i=document.createElement("div");return new ji.Bar(i,Di,Ui,Fi),i},Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi=function(t,e,n){var i=n.choices.map(function(t){var e=function(){var t=document.createElement("input");return t.setAttribute("name",arguments[0]),t.setAttribute("type","radio"),t.setAttribute("id",arguments[1]),function t(e,n,i){if("object"!==(void 0===n?"undefined":Gi(n)))n&&("className"===n&&(n="class"),"htmlFor"===n&&(n="for"),"on"===n.slice(0,2)?e[n]=i:(!0===i&&(i=n),e.setAttribute(n,i)));else for(var o in n)n.hasOwnProperty(o)&&t(e,o,n[o])}(t,arguments[3],arguments[2]),t}(n.name,t.id,t.checked?"checked":"",t.checked?"checked":"");return{label:t.label,id:t.id,input:e,el:function(){var t=document.createElement("div");t.setAttribute("class","ma2");var e=document.createElement("label");e.setAttribute("for",arguments[1]),e.setAttribute("class","pa0 ma0 lh-copy f6 pointer");var n=document.createElement("span");return n.setAttribute("class","pl2"),sn(n,[arguments[0]]),sn(e,["\n          ",arguments[2],"\n          ",n,"\n        "]),sn(t,["\n        ",e,"\n      "]),t}(t.label,t.id,e)}});return{el:function(){var t=document.createElement("div");return t.setAttribute("class",arguments[0]),sn(t,["\n    ",arguments[1],"\n  "]),t}(t&&t.style?t.style.choose:null,i.map(function(t){return t.el})),getAnswer:function(){var t=i.find(function(t){return t.input.checked});if(t)return t.id}}},qi={input:ln,choose:Vi},Wi=function(t,e,n){var i=qi[n.field.type](t,e,n.field);return{el:function(){var t=document.createElement("div");t.setAttribute("class",arguments[3]+" ba mv3 pa2");var e=document.createElement("fieldset");e.setAttribute("name",arguments[1]),e.setAttribute("class","ba b--transparent ph0 pv0 mh0");var n=document.createElement("p");return n.setAttribute("class","pa0 ma0"),sn(n,[arguments[0]]),sn(e,["\n      ",n,"\n      ",arguments[2],"\n    "]),sn(t,["\n    ",e,"\n  "]),t}(n.question,n.name,i.el,t.style.classes.question),getAnswer:function(){return{question:n.question,name:n.field.name,answer:i.getAnswer()}}}},Yi=function(t,e,n){return function(){var t=document.createElement("div");return t.setAttribute("style",arguments[0]),t.setAttribute("class","flex"),t}(function(t){return Wn({"min-width":""+(t.size||"80px"),height:""+(t.size||"80px"),"background-color":t.backgroundColor||"#333","-webkit-mask":"url(./assets/svg/"+t.name+".svg) center / contain no-repeat","margin-top":"-2px"})}(n))},Xi=function(t,e,n){var i=null;if(n.svg){var o=Object.assign({backgroundColor:"white",size:"40px"},n.svg);i=Yi(0,0,o)}var r=function(){var t=document.createElement("button");return t.setAttribute("class",arguments[0]+" "+arguments[1]),sn(t,[arguments[2],arguments[3]]),t}(t.style.classes.navbutton,n.classes,n.label,i);return r.onclick=n.onclick,r},Ki=function(t,e,n){var i=function(){var t=document.createElement("div");return t.setAttribute("class","w-30 f4 ph2"),sn(t,[arguments[0]]),t}(n.left),o=function(){var t=document.createElement("div");return t.setAttribute("class","w-40 f3 tc justify-center"),sn(t,[arguments[0]]),t}(n.middle),r=function(){var t=document.createElement("div");return t.setAttribute("class","w-30 f4 ph2 tr"),sn(t,[arguments[0]]),t}(n.right);return function(){var t=document.createElement("div");return t.setAttribute("style","height: 48px; "+arguments[0]),t.setAttribute("class","flex w-100 ma0 pa0 f2 white items-center "+arguments[1]),sn(t,["\n    ",arguments[2],"\n    ",arguments[3],"\n    ",arguments[4],"\n  "]),t}(n.style||"",n.classes||"",i,o,r)},$i=function(t){return function(){var t=document.createElement("body");t.setAttribute("style","height: 100vh; background: black;"),t.setAttribute("class","roboto fw4 mid-gray");var e=document.createElement("div");e.setAttribute("class","flex items-center justify-center w-100 h-100");var n=document.createElement("div");n.setAttribute("style","position: relative; width: 100%; height: 100%; background: white;");var i=document.createElement("div");return i.setAttribute("style","position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 1px #333 solid"),i.setAttribute("class","sans-serif"),sn(i,["\n            ",arguments[0],"\n          "]),sn(n,["\n          ",i,"\n        "]),sn(e,["\n        ",n,"\n      "]),sn(t,["\n      ",e,"\n    "]),t}(t)};!function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"style","display: block; position: absolute; top: 0; left: 0; z-index: 999; pointer-events: none;"),t.setAttributeNS(null,"width","375"),t.setAttributeNS(null,"height","812"),t.setAttributeNS(null,"fill","none");var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttributeNS(null,"fill","#000"),e.setAttributeNS(null,"fill-rule","evenodd"),e.setAttributeNS(null,"d","M0 0h40C17.909 0 0 17.909 0 40V0zm375 40c0-22.091-17.909-40-40-40h40v40zm-40 772c22.091 0 40-17.909 40-40v40h-40zM0 772c0 22.091 17.909 40 40 40H0v-40zM268.961 31H106.039c-12.703 0-23-10.297-23-23.039l.006-3.78a.797.797 0 0 0-.04-.281C82.332 2.086 80.78.674 78.891.216L78 0h219l-.892.216a5.859 5.859 0 0 0-4.106 3.684.79.79 0 0 0-.047.28l.006 3.82c0 12.703-10.297 23-23 23z"),e.setAttributeNS(null,"clip-rule","evenodd"),sn(t,["\n  ",e,"\n"])}();var Ji,Qi=function(t,e,n){var i=n.styles||t.style.classes||{section:"mv3 pa4 br0 shadow-4 black bg-white"};return n.title&&function(){var t=document.createElement("h1");t.setAttribute("class",arguments[0]),sn(t,["\n    ",arguments[1],"\n  "])}(i.title,n.title),function(){var t=document.createElement("div");return t.setAttribute("class",arguments[0]),sn(t,["\n    ",arguments[1],"\n  "]),t}(i.section,n.content)},to=function(t){return function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"style",arguments[0]),t.setAttributeNS(null,"width","375"),t.setAttributeNS(null,"height","44"),t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"class",arguments[1]);var e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttributeNS(null,"width","21"),e.setAttributeNS(null,"height","10.333"),e.setAttributeNS(null,"x","336.5"),e.setAttributeNS(null,"y","17.833"),e.setAttributeNS(null,"stroke","#fff"),e.setAttributeNS(null,"opacity",".35"),e.setAttributeNS(null,"rx","2.167");var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttributeNS(null,"fill","#fff"),n.setAttributeNS(null,"d","M359 21v4a2.17 2.17 0 0 0 0-4z"),n.setAttributeNS(null,"opacity",".4");var i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttributeNS(null,"width","18"),i.setAttributeNS(null,"height","7.333"),i.setAttributeNS(null,"x","338"),i.setAttributeNS(null,"y","19.333"),i.setAttributeNS(null,"fill","#fff"),i.setAttributeNS(null,"rx","1.333");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttributeNS(null,"fill","#fff"),o.setAttributeNS(null,"fill-rule","evenodd"),o.setAttributeNS(null,"d","M323.33 19.608a8.64 8.64 0 0 1 5.953 2.378.309.309 0 0 0 .434-.003l1.156-1.167a.32.32 0 0 0-.003-.456 10.897 10.897 0 0 0-15.08 0 .32.32 0 0 0-.003.456l1.156 1.167c.119.12.313.121.434.003a8.64 8.64 0 0 1 5.953-2.378zm0 3.796c1.218 0 2.392.452 3.294 1.27a.311.311 0 0 0 .434-.006l1.154-1.167a.321.321 0 0 0-.004-.459 7.16 7.16 0 0 0-9.753 0 .322.322 0 0 0-.004.459l1.154 1.167c.119.119.312.121.434.005a4.907 4.907 0 0 1 3.291-1.27zm2.313 2.553a.312.312 0 0 1-.094.231l-1.997 2.016a.312.312 0 0 1-.443 0l-1.998-2.016a.312.312 0 0 1 .01-.457 3.421 3.421 0 0 1 4.419 0c.064.058.102.14.103.226zM309.667 17.667h-1a1 1 0 0 0-1 1v8.666a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-8.666a1 1 0 0 0-1-1zM304 20h1a1 1 0 0 1 1 1v6.333a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V21a1 1 0 0 1 1-1zm-3.667 2.333h-1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1zm-4.666 2h-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1z"),o.setAttributeNS(null,"clip-rule","evenodd");var r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttributeNS(null,"fill","#fff"),r.setAttributeNS(null,"d","M37.776 28.74c2.51 0 4-1.963 4-5.285 0-3.26-1.587-5.065-3.945-5.065-2.146 0-3.664 1.442-3.664 3.465 0 1.894 1.367 3.275 3.247 3.275 1.155 0 2.092-.533 2.557-1.47h.116c-.02 2.283-.848 3.603-2.29 3.603-.848 0-1.524-.458-1.736-1.197h-1.757c.287 1.614 1.668 2.673 3.472 2.673zm.062-5.005c-1.148 0-1.941-.793-1.941-1.934 0-1.1.834-1.942 1.948-1.942 1.114 0 1.948.855 1.948 1.976 0 1.1-.813 1.9-1.955 1.9zm6.754 3.405c.65 0 1.094-.465 1.094-1.08 0-.622-.444-1.08-1.094-1.08-.642 0-1.094.457-1.094 1.08 0 .615.452 1.08 1.094 1.08zm0-4.99c.65 0 1.094-.459 1.094-1.074 0-.622-.444-1.08-1.094-1.08-.642 0-1.094.458-1.094 1.08 0 .615.452 1.073 1.094 1.073zm7.63 6.35h1.688v-1.88h1.333v-1.49H53.91v-6.494h-2.488a127.848 127.848 0 0 0-4.02 6.514v1.47h4.82v1.88zm-3.186-3.425a105.964 105.964 0 0 1 3.117-5.004h.096v5.1h-3.213v-.096zm10.13 3.425h1.765v-9.864h-1.757l-2.577 1.804v1.696l2.454-1.723h.116V28.5z"),sn(t,["\n    ",e,"\n    ",n,"\n    ",i,"\n    ",o,"\n    ",r,"\n  "]),t}(t.style||"",t.classes||"")},eo=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),no=function(t){function e(t,n,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));if(r.opts=Object.assign({},o),r.child=r.opts.child,!r.child)throw new Error("Stackable requires child option");return r._setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,fi),eo(e,[{key:"createElement",value:function(){var t=function(){var t=document.createElement("div");return t.setAttribute("class",arguments[0]),sn(t,["\n      ",arguments[1],"\n    "]),t}("_e565a9e5",this.child);return this._applyLocalStyle(t),t}},{key:"update",value:function(){return this._applyLocalStyle(),!1}},{key:"_applyLocalStyle",value:function(t){var e=t||this.element;e&&Object.assign(e.style,this.localStyle)}},{key:"_updateStyle",value:function(t,e){var n=this.element;n&&(n.style[t]=e),this.localStyle[t]=e}},{key:"_handleLoad",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_handleLoad",this).call(this,t),this._applyLocalStyle()}},{key:"_setTransitions",value:function(t,e,n,i){var o=this,r=["-webkit-","-moz-","-o-",""],s={property:t,duration:e,"timing-function":n,delay:i};Object.keys(s).forEach(function(t){var e=s[t];e&&r.forEach(function(n){var i=n+"transition-"+t;o._updateStyle(i,e)})})}},{key:"_setZIndex",value:function(t){this._updateStyle("z-index",t)}},{key:"_setLeft",value:function(t){this._updateStyle("left",t)}},{key:"show",value:function(){this._setLeft(0)}},{key:"hideLeft",value:function(){this._setLeft("-100%")}},{key:"hideRight",value:function(){this._setLeft("100%")}},{key:"_setup",value:function(){this.localStyle={},"hideRight"===this.opts.start?this.hideRight():"hideLeft"===this.opts.start&&this.hideLeft(),this.opts.index&&this._setZIndex(2e3+this.opts.index),this._setTransitions("all","0.5s","easeInOutSine")}}]),e}(),io=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),oo=function(t){function e(t,n,i,o,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));if(!o)throw new Error("Stack requires children to be passed");return s.id=t,s.state=n,s.emit=i,s.children=o,s.opts=r||{},s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,fi),io(e,[{key:"_nextCallback",value:function(t){var e=this;return function(n){e.opts.onnext&&e.opts.onnext(n);var i=e.leaves[t+1];i?i.show():e._allStepsDone()}}},{key:"createElement",value:function(){var t=this,e=this;return this.leaves=this.children.map(function(n,i){var o={child:n(t._nextCallback(i)),start:i>0?"hideRight":null,index:i},r=e.id+"-leaf-"+i;return e.state.cache(no,r,o)}),function(){var t=document.createElement("div");return t.setAttribute("class","flex w-100 h-100 "+arguments[0]),sn(t,["\n      ",arguments[1],"\n    "]),t}(this.opts.classes||"",this.leaves.map(function(t){return t.render()}))}},{key:"update",value:function(t){return!1}},{key:"beforerender",value:function(t){}},{key:"load",value:function(){}},{key:"unload",value:function(){this._reset()}},{key:"_restack",value:function(){this.leaves.forEach(function(t){t.hideRight()}),this.leaves[0].show()}},{key:"_allStepsDone",value:function(){this.opts.ondone&&this.opts.ondone(),this._restack(),this._reset(),this.emit("pushState","/home")}}]),e}(),ro=[{question:"Age of the youngest person eating the fish you catch",field:{type:"choose",name:"over16",choices:[{label:"Under 16 years",id:"no",checked:!1},{label:"Over 16 years",id:"yes",checked:!0}]}},{question:"Are there any pregnant women eating the fish caught?",field:{type:"choose",name:"pregnant",choices:[{label:"Yes",id:"yes",checked:!1},{label:"No",id:"no",checked:!0}]}}],so=function(t,e){var n=ro.map(function(n){return Wi(t,e,n)}),i=hn(t,e,{classes:"w-100",label:"Save",onclick:function(){}}),o=function(){var t=document.createElement("form");t.setAttribute("class","measure center");var e=document.createElement("small"),n=document.createElement("em");return sn(n,["you can change this information at any time by clicking on settings"]),sn(e,[n]),sn(t,["\n    ",arguments[0],"\n    ",arguments[1],"\n    ",e,"\n  "]),t}(n.map(function(t){return t.el}),i);o.onsubmit=function(t){t.preventDefault();var i={setupDone:!0};n.forEach(function(t){var e=t.getAnswer();i[e.name]="yes"===e.answer}),e("user:setup",i)};var r=function(){var t=document.createElement("div");t.setAttribute("class","");var e=document.createElement("p");return e.setAttribute("class","mb0"),sn(e,["\n      Please tell us a little about the people who will be eating the fish you catch.\n      This helps us give accurate, safe advice.\n    "]),sn(t,["\n    ",e,"\n    ",arguments[0],"\n  "]),t}(o);return function(){var t=document.createElement("div");return t.setAttribute("style","min-height: -webkit-min-content; align-content: center; justify-content: center;"),t.setAttribute("class","w-100 h-100 flex flex-column bg-gray"),sn(t,["\n    ",arguments[0],"\n  "]),t}(Qi(t,e,{title:"Setup",content:r}))},ao={stack:oo,stackable:no}.stack,ho=function(t,e,n){var i=[function(n){return function(t,e,n){var i=function(){var t=document.createElement("div"),e=document.createElement("h2");sn(e,["This app helps you and your family stay healthy when eating fish caught in Ontario."]);var n=document.createElement("p");return sn(n,["Some toxic chemicals are present in harmless concentrations in lakes, rives and other water bodies. Some fish naturally build up high concentrations of these chemicals in their bodies. This means that eating too much of some kinds of fish over time can cause health issues. This app helps you keep track of your catches and ensure you eat fish safely."]),sn(t,["\n    ",e,"\n    ",n,"\n    ",arguments[0],"\n  "]),t}(hn(t,e,{classes:"w-100",label:"Get started",onclick:n.next}));return function(){var t=document.createElement("div");return t.setAttribute("style","min-height: -webkit-min-content; align-content: center; justify-content: center;"),t.setAttribute("class","w-100 h-100 flex flex-column bg-gray"),sn(t,["\n    ",arguments[0],"\n  "]),t}(Qi(t,e,{title:"Welcome to GEOF",content:i}))}(t,e,{next:n})},function(n){return so(t,e,{next:n})}];return function(){var t=document.createElement("div");return t.setAttribute("style","justify-content: center; align-content: center;"),t.setAttribute("class","w-100 h-100 bg-white flex flex-column"),sn(t,["\n    ",arguments[0],"\n  "]),t}(t.cache(ao,"welcome-stack",i,{done:function(){console.log("startup stack completed")}}).render())},lo=function(t,e){return Xi(t,e,{svg:{name:"back"},onclick:function(t){e("catches:adding:cancel"),e("pushState","/home")}})},uo=o({}),co=(uo.section,uo.navigation),fo=(uo.navbutton,uo.statusbar,uo.button,uo.Map),po=uo.Fishpicker,mo=uo.phoneify,_o=uo.size,vo={},go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ji=function(t){return function(t,e){"use strict";var n={fillClass:"ct-fill-donut",label:{html:"div",class:"ct-fill-donut-label"},items:[{}]};e.plugins=e.plugins||{},e.plugins.fillDonut=function(i){return i=e.extend({},n,i),function(n){if(n instanceof e.Pie){var o,r=n.container;r.style.position="relative";var s=function(t){if("slice"===t.type){0===t.index&&(o=r.querySelector("svg"));var e=t.group._node.cloneNode(!0);i.fillClass.split(" ").forEach(function(t){e.setAttribute("class",e.getAttribute("class")+" "+t)}),[].forEach.call(e.querySelectorAll("path"),function(t){[].forEach.call(t.querySelectorAll("animate"),function(t){t.parentNode.removeChild(t)}),t.removeAttribute("stroke-dashoffset")}),o.insertBefore(e,o.childNodes[0])}};n.on("draw",function(t){s(t)}),n.on("created",function(o){var a=0;n.options.fillDonutOptions&&(i=e.extend({},i,n.options.fillDonutOptions),s(o)),[].forEach.call(i.items,function(n){var o=t.createElement(i.label.html);i.label.class.split(" ").forEach(function(t){o.classList?o.classList.add(t):o.className+=" "+t});var s=e.extend({},{class:"",id:"",content:"fillText",position:"center",offsetY:0,offsetX:0},n);s.id.length>0&&o.setAttribute("id",s.id),s.class.length>0&&o.setAttribute("class",s.class),[].forEach.call(r.querySelectorAll('*[data-fill-index$="fdid-'+a+'"]'),function(t){t.parentNode.removeChild(t)}),o.setAttribute("data-fill-index","fdid-"+a),a+=1,o.insertAdjacentHTML("beforeend",s.content),o.style.position="absolute",r.appendChild(o);var h=Math.ceil(r.offsetWidth/2),l=Math.ceil(r.clientHeight/2),u=Math.ceil(o.offsetWidth/2),c=Math.ceil(o.clientHeight/2),f={bottom:{bottom:0+s.offsetY+"px",left:h-u+s.offsetX+"px"},top:{top:0+s.offsetY+"px",left:h-u+s.offsetX+"px"},left:{top:l-c+s.offsetY+"px",left:0+s.offsetX+"px"},right:{top:l-c+s.offsetY+"px",right:0+s.offsetX+"px"},center:{top:l-c+s.offsetY+"px",left:h-u+s.offsetX+"px"}};e.extend(o.style,f[s.position])})})}}}}(document,t),t.plugins.fillDonut},"function"==typeof define&&define.amd?define(["chartist"],Ji):"object"===(void 0===vo?"undefined":go(vo))?vo=Ji(ji):this["Chartist.plugins.fillDonut"]=Ji(this.Chartist);var bo,wo,xo,Lo=function(t,e,n){return function(){var t=document.createElement("div");t.setAttribute("class","flex flex-column w-100");var e=document.createElement("div");e.setAttribute("style","justify-items: space-around;color: #555;"),e.setAttribute("class","flex flex-row justify-center items-center pb3");var n=document.createElement("div");n.setAttribute("class","flex flex-column w-50 justify-center items-center");var i=document.createElement("div");return i.setAttribute("class","flex f4"),sn(i,["\n          ",arguments[0],"\n        "]),sn(n,["\n        ",arguments[1],"\n        ",i,"\n      "]),sn(e,["\n      ",n,"\n    "]),sn(t,["\n    ",e,"\n    ",arguments[2],"\n    ",arguments[3],"\n  "]),t}(function(t){return t.catches.log.length>0?t.catches.log.length+" recent catches":"no catches recorded yet"}(t),Yi(0,0,{name:"catch",backgroundColor:"#555"}),function(t,e){return 0===t.catches.log.length?null:function(){var t=document.createElement("div");return t.setAttribute("class","pb3"),sn(t,["\n    ",arguments[0],"\n  "]),t}(t.catches.log.reverse().slice(0,5).map(function(t){return function(t,e,n){var i=function(){var t=document.createElement("div");t.setAttribute("class","pv2 f5 bt bb b--white-60 bg-animate hover-bg-white pointer");var e=document.createElement("div");return e.setAttribute("class","flex flex-row mv1"),sn(e,["\n        ",arguments[0]," ",arguments[1]," at ",arguments[2],"\n      "]),sn(t,["\n      ",e,"\n    "]),t}(n.size.text,n.sp.name.en,n.wb.name.en);return i.onclick=function(t){console.log("clicked",n)},i}(0,0,t)}))}(t),function(t,e){return hn(t,e,{classes:"w-100 mv1",label:"add a new catch",onclick:function(){return e("pushState","./catch")}})}(t,e))},Eo=function(t,e,n){var i,o,r,s,a=Math.round(t.allowance.percent);return a<51?(o=sn,(r=document.createElement("span")).setAttribute("class",""),o(r,["plenty of meals left this month"]),i=r):a<80?i=function(){var t=document.createElement("span");return t.setAttribute("class","orange"),sn(t,["you've had over half your safe monthly allowance"]),t}():a<100?i=function(){var t=document.createElement("span");return t.setAttribute("class","red"),sn(t,["you're close to the safety limit"]),t}():a>=100&&((s=document.createElement("span")).setAttribute("class","red"),sn(s,["WARNING!",document.createElement("br"),"you're over the safe limit for consumption"]),i=s),function(){var t=document.createElement("div");t.setAttribute("class","flex flex-column w-100");var e=document.createElement("div");e.setAttribute("style","justify-items: space-around;color: #555;"),e.setAttribute("class","flex flex-row justify-center items-center pb3");var n=document.createElement("div");n.setAttribute("class","flex flex-column w-100 justify-center items-center");var i=document.createElement("div");return i.setAttribute("class","flex f4 tc"),sn(i,["\n          ",arguments[0],"\n        "]),sn(n,["\n        ",arguments[1],"\n        ",i,"\n      "]),sn(e,["\n      ",n,"\n    "]),sn(t,["\n    ",e,"\n    ",arguments[2],"\n  "]),t}(i,Yi(0,0,{name:"meal",backgroundColor:"#555"}),function(t,e,n){var i,o={labels:["Eaten","Available"],series:[t.allowance.percent,100-t.allowance.percent]},r=(yo(i={donut:!0,donutWidth:20,startAngle:210,total:120,showLabel:!1,labelOffset:50,labelDirection:"explode"},"showLabel",!1),yo(i,"plugins",[ji.plugins.fillDonut({items:[{content:'<i class="fa fa-tachometer text-muted"></i>',position:"bottom",offsetY:10,offsetX:-2},{content:'<h4 class="tc">'+Math.round(t.allowance.percent)+'% of<br><span class="small">safe<br>allowance<br>used</span></h3>'}]})]),n=i,function(){var t=document.createElement("div");return t.setAttribute("class","flex flex-column w-100 "+arguments[0]+" "+arguments[1]),t}("_b9a91a1e","_d51ea7bd"));return new ji.Pie(r,o,n).on("draw",function(t){if("slice"===t.type&&0==t.index){var e=t.element._node.getTotalLength();t.element.attr({"stroke-dasharray":e+"px "+e+"px"});var n={"stroke-dashoffset":{id:"anim"+t.index,dur:1200,from:-e+"px",to:"0px",easing:ji.Svg.Easing.easeOutQuint,fill:"freeze"}};t.element.attr({"stroke-dashoffset":-e+"px"}),t.element.animate(n,!0)}}),r}(t))},Co=function(t,e){return Xi(t,e,{svg:{name:"settings"},onclick:function(t){e("pushState","/settings")}})},Ao=o({}),So=Ao.section,Po=Ao.navigation,ko=(Ao.button,Ao.form,Ao.setup,Ao.chart,Ao.phoneify),To=Lo,Mo=Eo,Oo=Co,zo=o({}),Io=zo.phoneify,Bo=(zo.navigation,zo.navbutton,zo.statusbar,zo.setup),No=o({}),Ro=No.phoneify,jo=No.startup,Zo=Zt();Zo.use(X()),Zo.use((wo=(bo=bo||{}).name||"choo-persist",xo=bo.filter,function(t,e){var n=null;try{n=JSON.parse(window.localStorage.getItem(wo))}catch(Do){n={}}function i(n,o){var r=xo?xo(t):t;try{window.localStorage.setItem(wo,JSON.stringify(r))}catch(Do){e.removeListener("*",i),e.emit("log:warn","Could not set item to localStorage "+wo)}}s(t,n),e.on("*",i),e.on("clear",function(){e.removeListener("*",i);try{window.localStorage.removeItem(wo)}catch(Do){e.emit("log:warn","Could not wipe localStorage "+wo)}e.emit("log:warn","Wiping localStorage "+wo)})})),Zo.use(function(t,e){t.appdata={title:"GEOF",settings:"settings",version:"version",deviceheight:812,setupDone:!1}}),Zo.use(function(t,e){t.user={setupDone:!1},e.on("DOMContentLoaded",function(){e.on("user:setup",function(n){Object.assign(t.user,n),t.user.setupDone=!0,console.log("user:setup",t.user),e.emit("pushState","/home")})})}),Zo.use(function(t,e){t.allowance={advisories:{normal:[],sensitive:[]},safety:{total:0,nsafe:0},percent:0};var n=function(){return t.allowance.safety.total+=1},i=function(){return t.allowance.safety.nsafe+=1};function o(){t.catches.log.forEach(function(e){n();var o=e.wb.id+":"+e.sp.id+":"+e.size.id,r=t.data.adv[o];if(!r)return i();r.forEach(function(e){var n=2===e.pop;t.allowance.advisories[n?"sensitive":"normal"].push(e),(t.user.pregnant||!t.user.over16)===n&&(t.allowance.percent+=100/e.level)})}),"/"!==t.route&&e.emit("render")}e.on("DOMContentLoaded",function(){e.on("allowance:update",o),e.on("fishdata:all:loaded",function(){o()})})}),Zo.use(function(t,e){t.data={};var n=Xe.length,i=0;e.on("DOMContentLoaded",function(){"undefined"!=typeof window&&Xe.forEach(function(o){var r=(window.location.href.replace(new RegExp(t.route+"$"),"").replace("/catch","/").replace("/home","/")+"/./assets/data/"+o+".json.bz2").replace("//./","/");console.log(r),fetch(r).then(function(t){return t.arrayBuffer()}).then(function(r){var s=new Uint8Array(r),a=We.decode(s),h=new TextDecoder("utf-8").decode(a);t.data[o]=JSON.parse(h),e.emit("fishdata:"+o+":loaded"),n===(i+=1)&&(t.dataloaded=!0,e.emit("fishdata:all:loaded"),"/home"===t.route&&e.emit("render"))})})})}),Zo.use(function(t,e){t.catches={log:Vt,adding:null};var n=function(e){var n=t.catches.adding||{};t.catches.adding=Object.assign(n,e)},i=function(){t.catches.adding=null,e.emit(t.events.PUSHSTATE,"./")},o=function(){var n=t.catches.adding;if(n){e.emit("allowance:update");var i=n.wb+":"+n.sp+":"+n.size,o=t.data.adv[i];n.key=i,n.adv=o,t.catches.log.push(n),t.catches.adding=null}};e.on("DOMContentLoaded",function(){e.on("catches:adding:cancel",i),e.on("catches:adding:update",n),e.on("catches:adding:done",o)})}),Zo.use(function(t,e){var n=t.styleOpts={primary:"green",secondary:"light-green"};t.style={styles:{},classes:{}},t.style={classes:{main:""+Ke,section:"flex flex-column mv2 pa4 br0 bbgray hover-mid-gray "+$e,title:"roboto fw4 f4 tl mv1",footer:"flex h4 w-100 absolute bottom-0 bg-"+n.primary,tab:"w-third pa3 h-100 tc white b f2 link dim",icon:"white",label:"f4 tc normal mt1",button:"border-box br2 bn pa3 white bg-"+n.primary+" link dim",navbutton:"border-box dib bn pa1 white bg-"+n.primary+" link dim",secondary:"bg-"+n.secondary}}}),Zo.use(function(t,e){t.totalClicks=0,e.on("DOMContentLoaded",function(){e.on("clicks:add",function(n){t.totalClicks+=n,e.emit(t.events.RENDER)})})}),Zo.route("/",function(t,e){if(console.log(t.user.setupDone),"GEOF"!==t.title&&e(t.events.DOMTITLECHANGE,"GEOF"),t.user.setupDone)return e("pushState","./home");var n=function(){var t=document.createElement("div");t.setAttribute("class","flex flex-column");var e=document.createElement("div");return e.setAttribute("style","flex: 1;"),e.setAttribute("class","flex overflow-auto"),sn(e,["\n      ",arguments[0],"\n    "]),sn(t,["\n    ",e,"\n  "]),t}(jo(t,e));return Ro(n)}),Zo.route("/home",function(t,e){var n;"GEOF"!==t.title&&e(t.events.DOMTITLECHANGE,"GEOF"),n=t.dataloaded?[{title:"Overview",content:Mo(t,e)},{title:"Recent catches",content:To(t,e)}].map(function(n){return So(t,e,n)}):function(){var t=document.createElement("div");return t.setAttribute("class","flex w-100 h-100 justify-center items-center"),sn(t,[arguments[0]]),t}(vi());var i=function(){var t=document.createElement("div");t.setAttribute("class",arguments[1]+" flex flex-column w-100 h-100");var e=document.createElement("div");e.setAttribute("style","flex: 1; min-height: 0px;"),e.setAttribute("class","flex");var n=document.createElement("div");n.setAttribute("style","flex: 1;"),n.setAttribute("class","flex overflow-auto");var i=document.createElement("div");return i.setAttribute("style","min-height: -webkit-min-content;"),i.setAttribute("class","w-100"),sn(i,["\n          ",arguments[0],"\n        "]),sn(n,["\n        ",i,"\n      "]),sn(e,["\n      ",n,"\n    "]),sn(t,["\n    ",arguments[2],"\n    ",e,"\n  "]),t}(n,t.style.classes.main,Po(t,e,{classes:"bg-"+t.styleOpts.primary,style:"flex: 0 0 auto;",left:null,middle:t.appdata.title,right:Oo(t,e)}));return ko(i)}),Zo.route("/settings",function(t,e){"GEOF"!==t.title&&e(t.events.DOMTITLECHANGE,"GEOF");var n=function(){var t=document.createElement("div");t.setAttribute("style","position: absolute; height: 100%;"),t.setAttribute("class","mainwrapper flex flex-column");var e=document.createElement("div");return e.setAttribute("style","flex: 1;"),e.setAttribute("class","flex overflow-auto"),sn(e,["\n      ",arguments[0],"\n    "]),sn(t,["\n    ",e,"\n  "]),t}(Bo(t,e,{next:function(){return e("pushState","./home")}}));return Io(n)}),Zo.route("/catch",function(t,e){"src - main"!==t.title&&e(t.events.DOMTITLECHANGE,"src - main");var n={wb:function(n){return new fo("my-map",t,e,{points:t.data.wb,next:n}).render()},sp:function(n){return new po("my-fishpicker",t,e,{next:n}).render()},size:function(n){return _o(t,e,{next:n})}};t.catches.adding&&Object.keys(n).forEach(function(e){t.catches.adding.hasOwnProperty(e)&&delete n[e]});var i=function(){var t=document.createElement("div");t.setAttribute("class","flex flex-column");var e=document.createElement("div");return e.setAttribute("style","flex-grow: 1; position: relative;"),e.setAttribute("class","flex w-100 h-100"),sn(e,["\n      ",arguments[0],"\n    "]),sn(t,["\n    ",arguments[1],"\n    ",e,"\n  "]),t}(t.cache(oo,"my-stack",Object.values(n),{onnext:function(t){return e("catches:adding:update",t)},ondone:function(){return e("catches:adding:done")}}).render(),co(t,e,{classes:"bg-"+t.styleOpts.primary,left:lo(t,e),middle:"New catch",right:null}));return mo(i)}),Zo.route("/*",function(t,e){return t.title!==an&&e(t.events.DOMTITLECHANGE,an),function(){var t=document.createElement("body");t.setAttribute("class","sans-serif pa3");var e=document.createElement("h1");sn(e,["Route not found."]);var n=document.createElement("a");return n.setAttribute("href","/"),n.setAttribute("class","pt2"),sn(n,["Back to main."]),sn(t,["\n      ",e,"\n      ",n,"\n    "]),t}()}),Zo.mount("body")}();
//# sourceMappingURL=bundle.js.map